{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\src\\\\components\\\\Edit.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Modal } from 'react-bootstrap';\nimport settings from \"../settings.json\";\nimport Settings from \"./Settings\";\nimport ManageSerie from \"./ManageSerie\"; // import FutureGames from './ManageTourComps/FutureGames';\n\nimport '../css/test.scss';\n\nvar Test =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Test, _Component);\n\n  function Test(props) {\n    var _this;\n\n    _classCallCheck(this, Test);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Test).call(this, props));\n    _this.state = {\n      tab: 0,\n      loading: true,\n      notfound: false,\n      auth: false,\n      data: {},\n      status: false,\n      groupSelected: 0\n    };\n    _this.tab = _this.tab.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.update = _this.update.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.show = _this.show.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.close = _this.close.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.copy = _this.copy.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n\n    _this.update();\n\n    return _this;\n  }\n\n  _createClass(Test, [{\n    key: \"tab\",\n    value: function tab(x) {\n      if (x != this.state.tab) {\n        this.setState({\n          tab: x\n        });\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var _this2 = this;\n\n      fetch(settings.api + \"?s=\" + this.props.match.params.id, {\n        method: \"GET\",\n        credentials: \"include\"\n      }).then(function (response) {\n        if (response.status != '200') {\n          throw 0;\n        }\n\n        return response.json();\n      }).then(function (response) {\n        document.title = response.name;\n\n        if (!response.owners.includes(_this2.props.username)) {\n          _this2.setState({\n            loading: false,\n            auth: true\n          });\n\n          return;\n        }\n\n        _this2.setState({\n          loading: false,\n          data: response\n        });\n      }).catch(function () {\n        _this2.setState({\n          loading: false,\n          notfound: true\n        });\n      });\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      this.setState({\n        status: true\n      });\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.setState({\n        status: false\n      });\n    }\n  }, {\n    key: \"copy\",\n    value: function copy() {\n      document.getElementById('x').select();\n      document.execCommand(\"copy\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.loading) {\n        return React.createElement(\"div\", {\n          id: \"edit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: \"root-loading\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"root-spinner\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        })));\n      }\n\n      if (this.state.auth) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, \"inte din turnering pajas..\");\n      }\n\n      if (this.state.notfound) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, \"finns ej..\");\n      }\n\n      var content;\n\n      if (this.state.tab == 0) {\n        content = React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, React.createElement(ManageSerie, {\n          id: this.props.match.params.id,\n          data: this.state.data,\n          fetchData: this.update,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }));\n      } //groupSelected={this.state.groupSelected}\n\n\n      if (this.state.tab == 1) {\n        content = React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, React.createElement(Settings, {\n          trigger: this.update,\n          data: this.state.data,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }));\n      }\n\n      return React.createElement(\"div\", {\n        id: \"edit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        show: this.state.status,\n        onHide: this.close,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(Modal.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"close\",\n        onClick: this.close,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"\\xD7\"), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Delningsbar l\\xE4nk till visningssida\"), React.createElement(\"div\", {\n        className: \"modal_wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        id: \"x\",\n        type: \"text\",\n        value: \"http://\" + window.location.host + \"/s/\" + this.state.data.id,\n        readOnly: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"copy\",\n        onClick: this.copy,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"Kopiera\"), React.createElement(Link, {\n        target: \"_blank\",\n        to: settings.url + \"s/\" + this.state.data.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Visningssida\")))), React.createElement(\"div\", {\n        className: \"info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: settings.url + \"manage/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"vafan\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        onClick: this.show,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \" \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), \" \"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"Dela\")))), React.createElement(\"div\", {\n        className: \"head\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, this.state.data.name)), React.createElement(\"nav\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: this.state.tab == 0 ? \"selected\" : null,\n        onClick: this.tab.bind(this, 0),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Matcher\"), React.createElement(\"div\", {\n        className: this.state.tab == 1 ? \"selected\" : null,\n        onClick: this.tab.bind(this, 1),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \"Inst\\xE4llningar\")), React.createElement(\"main\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, content));\n    }\n  }]);\n\n  return Test;\n}(Component);\n\nexport default Test;","map":{"version":3,"sources":["C:\\Users\\victo\\Desktop\\VLQ.se\\src\\components\\Edit.js"],"names":["React","Component","Link","Modal","settings","Settings","ManageSerie","Test","props","state","tab","loading","notfound","auth","data","status","groupSelected","bind","update","show","close","copy","x","setState","fetch","api","match","params","id","method","credentials","then","response","json","document","title","name","owners","includes","username","catch","getElementById","select","execCommand","content","window","location","host","url"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,KAAT,QAAsB,iBAAtB;AAEA,OAAOC,QAAP,MAAqB,kBAArB;AAEA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,WAAP,MAAwB,eAAxB,C,CACA;;AAEA,OAAO,kBAAP;;IAGMC,I;;;;;AACF,gBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AACd,8EAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACTC,MAAAA,GAAG,EAAE,CADI;AAETC,MAAAA,OAAO,EAAE,IAFA;AAGTC,MAAAA,QAAQ,EAAE,KAHD;AAITC,MAAAA,IAAI,EAAE,KAJG;AAKTC,MAAAA,IAAI,EAAE,EALG;AAMTC,MAAAA,MAAM,EAAE,KANC;AAOTC,MAAAA,aAAa,EAAE;AAPN,KAAb;AAUA,UAAKN,GAAL,GAAW,MAAKA,GAAL,CAASO,IAAT,uDAAX;AACA,UAAKC,MAAL,GAAc,MAAKA,MAAL,CAAYD,IAAZ,uDAAd;AACA,UAAKE,IAAL,GAAY,MAAKA,IAAL,CAAUF,IAAV,uDAAZ;AACA,UAAKG,KAAL,GAAa,MAAKA,KAAL,CAAWH,IAAX,uDAAb;AACA,UAAKI,IAAL,GAAY,MAAKA,IAAL,CAAUJ,IAAV,uDAAZ;;AAEA,UAAKC,MAAL;;AAnBc;AAoBjB;;;;wBAEGI,C,EAAE;AACF,UAAGA,CAAC,IAAI,KAAKb,KAAL,CAAWC,GAAnB,EAAuB;AACnB,aAAKa,QAAL,CAAc;AAACb,UAAAA,GAAG,EAAEY;AAAN,SAAd;AACH;AACJ;;;6BAEO;AAAA;;AACJE,MAAAA,KAAK,CAACpB,QAAQ,CAACqB,GAAT,GAAe,KAAf,GAAuB,KAAKjB,KAAL,CAAWkB,KAAX,CAAiBC,MAAjB,CAAwBC,EAAhD,EAAoD;AACrDC,QAAAA,MAAM,EAAE,KAD6C;AAErDC,QAAAA,WAAW,EAAE;AAFwC,OAApD,CAAL,CAGGC,IAHH,CAGQ,UAACC,QAAD,EAAc;AAClB,YAAGA,QAAQ,CAACjB,MAAT,IAAmB,KAAtB,EAA4B;AAAC,gBAAM,CAAN;AAAS;;AACtC,eAAOiB,QAAQ,CAACC,IAAT,EAAP;AACH,OAND,EAMGF,IANH,CAMQ,UAACC,QAAD,EAAc;AAClBE,QAAAA,QAAQ,CAACC,KAAT,GAAiBH,QAAQ,CAACI,IAA1B;;AAEA,YAAG,CAACJ,QAAQ,CAACK,MAAT,CAAgBC,QAAhB,CAAyB,MAAI,CAAC9B,KAAL,CAAW+B,QAApC,CAAJ,EAAkD;AAC9C,UAAA,MAAI,CAAChB,QAAL,CAAc;AAACZ,YAAAA,OAAO,EAAE,KAAV;AAAiBE,YAAAA,IAAI,EAAE;AAAvB,WAAd;;AACA;AACH;;AAED,QAAA,MAAI,CAACU,QAAL,CAAc;AAACZ,UAAAA,OAAO,EAAE,KAAV;AAAiBG,UAAAA,IAAI,EAAEkB;AAAvB,SAAd;AACH,OAfD,EAeGQ,KAfH,CAeS,YAAM;AACX,QAAA,MAAI,CAACjB,QAAL,CAAc;AAACZ,UAAAA,OAAO,EAAE,KAAV;AAAiBC,UAAAA,QAAQ,EAAE;AAA3B,SAAd;AACH,OAjBD;AAkBH;;;2BAEK;AACF,WAAKW,QAAL,CAAc;AAACR,QAAAA,MAAM,EAAE;AAAT,OAAd;AACH;;;4BAEM;AACH,WAAKQ,QAAL,CAAc;AAACR,QAAAA,MAAM,EAAE;AAAT,OAAd;AACH;;;2BAEK;AACFmB,MAAAA,QAAQ,CAACO,cAAT,CAAwB,GAAxB,EAA6BC,MAA7B;AACAR,MAAAA,QAAQ,CAACS,WAAT,CAAqB,MAArB;AACH;;;6BAEO;AACJ,UAAG,KAAKlC,KAAL,CAAWE,OAAd,EAAsB;AAClB,eAAO;AAAK,UAAA,EAAE,EAAC,MAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAe;AAAK,UAAA,EAAE,EAAC,cAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAuB;AAAK,UAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAvB,CAAf,CAAP;AACH;;AAED,UAAG,KAAKF,KAAL,CAAWI,IAAd,EAAmB;AACf,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAAP;AACH;;AAED,UAAG,KAAKJ,KAAL,CAAWG,QAAd,EAAuB;AACnB,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAP;AACH;;AAED,UAAIgC,OAAJ;;AACA,UAAG,KAAKnC,KAAL,CAAWC,GAAX,IAAkB,CAArB,EAAuB;AACnBkC,QAAAA,OAAO,GACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,WAAD;AAAa,UAAA,EAAE,EAAE,KAAKpC,KAAL,CAAWkB,KAAX,CAAiBC,MAAjB,CAAwBC,EAAzC;AAA6C,UAAA,IAAI,EAAE,KAAKnB,KAAL,CAAWK,IAA9D;AAAoE,UAAA,SAAS,EAAE,KAAKI,MAApF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADJ;AAIH,OAnBG,CAmBH;;;AAED,UAAG,KAAKT,KAAL,CAAWC,GAAX,IAAkB,CAArB,EAAuB;AACnBkC,QAAAA,OAAO,GACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,QAAD;AAAU,UAAA,OAAO,EAAE,KAAK1B,MAAxB;AAAgC,UAAA,IAAI,EAAE,KAAKT,KAAL,CAAWK,IAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CADJ;AAIH;;AAED,aACI;AAAK,QAAA,EAAE,EAAC,MAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAE,KAAKL,KAAL,CAAWM,MAAxB;AAAgC,QAAA,MAAM,EAAE,KAAKK,KAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK;AAAK,QAAA,SAAS,EAAC,OAAf;AAAuB,QAAA,OAAO,EAAE,KAAKA,KAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADL,EAEK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDAFL,EAIK;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,EAAE,EAAC,GAAV;AAAc,QAAA,IAAI,EAAC,MAAnB;AAA0B,QAAA,KAAK,EAAE,YAAYyB,MAAM,CAACC,QAAP,CAAgBC,IAA5B,GAAoC,KAApC,GAA4C,KAAKtC,KAAL,CAAWK,IAAX,CAAgBc,EAA7F;AAAiG,QAAA,QAAQ,MAAzG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAsB,QAAA,OAAO,EAAE,KAAKP,IAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFJ,EAGI,oBAAC,IAAD;AAAM,QAAA,MAAM,EAAC,QAAb;AAAsB,QAAA,EAAE,EAAEjB,QAAQ,CAAC4C,GAAT,GAAe,IAAf,GAAsB,KAAKvC,KAAL,CAAWK,IAAX,CAAgBc,EAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHJ,CAJL,CADH,CAFJ,EAeI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAExB,QAAQ,CAAC4C,GAAT,GAAe,SAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAL,EAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAZ,CAApC,CADJ,EAEI;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,OAAO,EAAE,KAAK7B,IAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAN,EAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAb,EAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAApB,MADF,EACoC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADpC,EAC2C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAD3C,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,CADJ,CAFJ,CAfJ,EAyBI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAK,KAAKV,KAAL,CAAWK,IAAX,CAAgBsB,IAArB,CADJ,CAzBJ,EA4BI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAE,KAAK3B,KAAL,CAAWC,GAAX,IAAkB,CAAlB,GAAsB,UAAtB,GAAmC,IAAnD;AAAyD,QAAA,OAAO,EAAE,KAAKA,GAAL,CAASO,IAAT,CAAc,IAAd,EAAoB,CAApB,CAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,EAEI;AAAK,QAAA,SAAS,EAAE,KAAKR,KAAL,CAAWC,GAAX,IAAkB,CAAlB,GAAsB,UAAtB,GAAmC,IAAnD;AAAyD,QAAA,OAAO,EAAE,KAAKA,GAAL,CAASO,IAAT,CAAc,IAAd,EAAoB,CAApB,CAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAFJ,CA5BJ,EAiCI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK2B,OADL,CAjCJ,CADJ;AAuCH;;;;EAlIc3C,S;;AAqInB,eAAeM,IAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Modal } from 'react-bootstrap';\r\n\r\nimport settings from \"../settings.json\";\r\n\r\nimport Settings from \"./Settings\";\r\nimport ManageSerie from \"./ManageSerie\";\r\n// import FutureGames from './ManageTourComps/FutureGames';\r\n\r\nimport '../css/test.scss';\r\n\r\n\r\nclass Test extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            tab: 0,\r\n            loading: true,\r\n            notfound: false,\r\n            auth: false,\r\n            data: {},\r\n            status: false,\r\n            groupSelected: 0\r\n        }\r\n\r\n        this.tab = this.tab.bind(this);\r\n        this.update = this.update.bind(this);\r\n        this.show = this.show.bind(this);\r\n        this.close = this.close.bind(this);\r\n        this.copy = this.copy.bind(this);\r\n\r\n        this.update();\r\n    }\r\n\r\n    tab(x){\r\n        if(x != this.state.tab){\r\n            this.setState({tab: x});\r\n        }\r\n    }\r\n\r\n    update(){\r\n        fetch(settings.api + \"?s=\" + this.props.match.params.id, {\r\n            method: \"GET\",\r\n            credentials: \"include\"\r\n        }).then((response) => {\r\n            if(response.status != '200'){throw 0;}\r\n            return response.json();\r\n        }).then((response) => {\r\n            document.title = response.name;\r\n\r\n            if(!response.owners.includes(this.props.username)){\r\n                this.setState({loading: false, auth: true});\r\n                return;\r\n            }\r\n\r\n            this.setState({loading: false, data: response});\r\n        }).catch(() => {\r\n            this.setState({loading: false, notfound: true});\r\n        });\r\n    }\r\n\r\n    show(){\r\n        this.setState({status: true});\r\n    }\r\n\r\n    close(){\r\n        this.setState({status: false});\r\n    }\r\n\r\n    copy(){\r\n        document.getElementById('x').select();\r\n        document.execCommand(\"copy\");\r\n    }\r\n\r\n    render(){\r\n        if(this.state.loading){\r\n            return <div id=\"edit\"><div id=\"root-loading\"><div className=\"root-spinner\"></div></div></div>;\r\n        }\r\n\r\n        if(this.state.auth){\r\n            return <div>inte din turnering pajas..</div>;\r\n        }\r\n\r\n        if(this.state.notfound){\r\n            return <div>finns ej..</div>;\r\n        }\r\n\r\n        let content;\r\n        if(this.state.tab == 0){\r\n            content =\r\n                <div>\r\n                  <ManageSerie id={this.props.match.params.id} data={this.state.data} fetchData={this.update}></ManageSerie>\r\n                </div>;\r\n        }//groupSelected={this.state.groupSelected}\r\n\r\n        if(this.state.tab == 1){\r\n            content =\r\n                <div>\r\n                    <Settings trigger={this.update} data={this.state.data}></Settings>\r\n                </div>;\r\n        }\r\n\r\n        return(\r\n            <div id=\"edit\">\r\n\r\n                <Modal show={this.state.status} onHide={this.close}>\r\n                   <Modal.Body >\r\n                        <div className=\"close\" onClick={this.close}>&times;</div>\r\n                        <h3>Delningsbar länk till visningssida</h3>\r\n\r\n                        <div className=\"modal_wrap\">\r\n                            <input id=\"x\" type=\"text\" value={\"http://\" + window.location.host  + \"/s/\" + this.state.data.id} readOnly/>\r\n                            <div className=\"copy\" onClick={this.copy}>Kopiera</div>\r\n                            <Link target=\"_blank\" to={settings.url + \"s/\" + this.state.data.id}>Visningssida</Link>\r\n                        </div>\r\n                    </Modal.Body>\r\n               </Modal>\r\n\r\n                <div className=\"info\">\r\n                    <Link to={settings.url + \"manage/\"}><div><span/><span/></div></Link>\r\n                    <div className=\"vafan\">\r\n                        <div onClick={this.show}>\r\n                          <div> <span/><span/><span/> </div><span/><span/>\r\n                          <p>Dela</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"head\">\r\n                    <h1>{this.state.data.name}</h1>\r\n                </div>\r\n                <nav>\r\n                    <div className={this.state.tab == 0 ? \"selected\" : null} onClick={this.tab.bind(this, 0)}>Matcher</div>\r\n                    <div className={this.state.tab == 1 ? \"selected\" : null} onClick={this.tab.bind(this, 1)}>Inställningar</div>\r\n                </nav>\r\n\r\n                <main>\r\n                    {content}\r\n                </main>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Test;\r\n"]},"metadata":{},"sourceType":"module"}