{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\src\\\\components\\\\ManageTour.js\";\nimport React, { Component } from 'react';\nimport settings from \"../settings.json\";\nimport { Link, Redirect } from 'react-router-dom';\nimport { Modal } from 'react-bootstrap';\nimport FutureGames from './ManageTourComps/FutureGames';\nimport Group from './Group';\nimport '../css/managetour.scss';\nimport '../css/bootstrap.css';\n\nvar ManageTour =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ManageTour, _Component);\n\n  function ManageTour(props) {\n    var _this;\n\n    _classCallCheck(this, ManageTour);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ManageTour).call(this, props));\n    _this.state = {\n      tourData: _this.props.data,\n      teams: _this.props.data.teams,\n      groups: _this.props.data.groups,\n      pointerFollowStyle: {\n        left: '0px'\n      },\n      groupSelected: _this.props.groupSelected,\n      showShadowBottom: {\n        visibility: \"visible\"\n      },\n      showShadowTop: {\n        visibility: \"visible\"\n      },\n      showPointer: true,\n      groupClass: 'grupperSel',\n      login: true,\n      error: false,\n      firstLoad: true,\n      groupHeight: {\n        height: '70px'\n      },\n      lastScrollY: 0,\n      ticking: false,\n      showModal: false\n    };\n    _this.format = \"ABCDEFGHIJKLMNOP\";\n    _this.ref = React.createRef();\n    _this.handlegroupchange = _this.handlegroupchange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.resize = _this.resize.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleClose = _this.handleClose.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleShow = _this.handleShow.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ManageTour, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      window.addEventListener('resize', this.resize);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('resize', this.resize);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.resize();\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var offset = document.querySelector(\".grupperSel\").offsetWidth / 2;\n      var boxStart = document.querySelector(\".grupperSel\").childNodes[0].getBoundingClientRect().x - document.querySelector(\".groupWrap\").getBoundingClientRect().x;\n      this.setState({\n        pointerFollowStyle: {\n          left: boxStart + offset + 'px'\n        }\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (!this.state.loading) {\n        if (this.state.firstLoad) {\n          this.resize();\n          this.setState({\n            firstLoad: false\n          });\n        }\n      }\n    }\n  }, {\n    key: \"handleClose\",\n    value: function handleClose() {\n      this.setState({\n        showModal: false\n      });\n    }\n  }, {\n    key: \"handleShow\",\n    value: function handleShow() {\n      this.setState({\n        showModal: true\n      });\n    }\n  }, {\n    key: \"handlegroupchange\",\n    value: function handlegroupchange(event) {\n      if (event.currentTarget != event.currentTarget.parentNode.childNodes[this.state.groupSelected]) {\n        this.setState({\n          groupSelected: parseInt(event.currentTarget.dataset.id)\n        });\n        this.setState({\n          groupClass: 'grupper'\n        });\n        event.currentTarget.parentNode.childNodes[this.state.groupSelected].className = 'grupper';\n        this.setState({\n          showPointer: true\n        });\n        event.currentTarget.className = 'grupperSel';\n        this.resize();\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(input) {\n      console.log('update');\n      this.setState({\n        tourData: input.data,\n        teams: input.data.teams,\n        groups: input.data.groups //,\n        //groupSelected: input.groupSelected\n\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.error) {\n        document.title = \"Ingen turnering hittades\";\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"no-tournament\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }, \"Ingen turnering hittades\"), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }, \"V\\xE4nligen kontrollera att du angav korrekt address.\"), React.createElement(\"div\", {\n          className: \"link\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, \"\\uD83D\\uDD17 = \\uD83D\\uDC94\"), React.createElement(\"div\", {\n          className: \"line\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        })));\n      } else {\n        var urlString;\n        var popup;\n        var groups;\n        var rubrik;\n        var pointer = \"\";\n        var resultatClass;\n        var displayedGroup;\n        var edit = \"\";\n\n        if (this.state.loading) {\n          var inside = React.createElement(\"div\", {\n            className: \"loading\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 136\n            },\n            __self: this\n          });\n        } else {\n          // groups = this.state.groups.map((item, index, array) => {\n          //   let completed = \"\";\n          //   if(item.completed) { completed =  <div className=\"groupDoneIndi\">&#10004;</div>; }\n          //   if(index == this.state.groupSelected) {\n          //     return (\n          //         <div className=\"grupperSel\" key={index} data-id={index} onClick={this.handlegroupchange}>\n          //           <span style={{position: 'absolute', left: '-20px'}}/>\n          //           Serie {index + 1}\n          //           {completed}\n          //         </div>\n          //     )\n          //   }\n          //   else {\n          //     return (\n          //         <div className=\"grupper\" key={index} data-id={index} onClick={this.handlegroupchange}>\n          //           <span style={{position: 'absolute', left: '-20px'}}/>\n          //           Serie {index + 1}\n          //           {completed}\n          //         </div>\n          //     )\n          //   }\n          // });\n          edit = React.createElement(\"div\", {\n            className: \"editContainer\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 165\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            id: \"futureGamesWrap\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 166\n            },\n            __self: this\n          }, React.createElement(FutureGames, {\n            data: this.state.tourData,\n            groupSelected: this.state.groupSelected,\n            fetchData: this.props.fetchData,\n            bracket: false,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 167\n            },\n            __self: this\n          })), React.createElement(\"div\", {\n            className: \"tabellwrap\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 174\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"tabellcontent\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 175\n            },\n            __self: this\n          }, React.createElement(Group, {\n            data: this.state.tourData.groups[this.state.groupSelected],\n            teams: this.state.tourData.teams,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 176\n            },\n            __self: this\n          }))));\n          rubrik = React.createElement(\"div\", {\n            className: \"rubrik\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 183\n            },\n            __self: this\n          }, React.createElement(\"h2\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 184\n            },\n            __self: this\n          }, this.state.tourData.name));\n\n          if (this.state.showPointer) {\n            pointer = [React.createElement(\"div\", {\n              className: \"pointer-a\",\n              key: \"a\",\n              style: this.state.pointerFollowStyle,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 190\n              },\n              __self: this\n            }), React.createElement(\"div\", {\n              className: \"pointer-b\",\n              key: \"b\",\n              style: this.state.pointerFollowStyle,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 191\n              },\n              __self: this\n            })];\n          }\n\n          resultatClass = 'editWrap';\n          urlString = \"http://localhost:3000/t/\" + this.state.tourData.id;\n        }\n\n        return React.createElement(\"div\", {\n          id: \"manageTour\",\n          ref: this.ref,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"groupWrap\",\n          style: this.state.groupHeight,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"groupContent\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }, groups), React.createElement(\"div\", {\n          className: \"clear\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"pointerWrap\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"pointerContainer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207\n          },\n          __self: this\n        }, pointer))), React.createElement(\"div\", {\n          className: \"clear\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: resultatClass,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        }, edit));\n      }\n    }\n  }]);\n\n  return ManageTour;\n}(Component);\n\nexport default ManageTour; // <Modal show={this.state.showModal} onHide={this.handleClose}>\n//   <Modal.Header closeButton>\n//     <Modal.Title>Visningssida</Modal.Title>\n//   </Modal.Header>\n//   <Modal.Body>\n//     {urlString}\n//   </Modal.Body>\n// </Modal>\n// <CustomScrollbars autoHeight autoHeightMin={(document.documentElement.clientHeight)-65-50-62-38} onUpdate={this.handleUpdate}>\n// </CustomScrollbars>\n// <div className=\"shadowTop\" style={this.state.showShadowTop}></div>\n// <div className=\"shadowBottom\" style={this.state.showShadowBottom}></div>\n// let pointerClass = {\"pointerwrap\" + }\n// <Scrollbars autoWidth autoWidthMax={1200} onScroll={this.handleScroll}>\n//   <div className=\"groupContent\">\n//     {groups}\n//   </div>\n// </Scrollbars>\n// <input type=\"text\" readonly value={urlString}/><div className=\"copyButton\">&#x2398;</div>","map":{"version":3,"sources":["C:\\Users\\victo\\Desktop\\VLQ.se\\src\\components\\ManageTour.js"],"names":["React","Component","settings","Link","Redirect","Modal","FutureGames","Group","ManageTour","props","state","tourData","data","teams","groups","pointerFollowStyle","left","groupSelected","showShadowBottom","visibility","showShadowTop","showPointer","groupClass","login","error","firstLoad","groupHeight","height","lastScrollY","ticking","showModal","format","ref","createRef","handlegroupchange","bind","resize","handleClose","handleShow","window","addEventListener","removeEventListener","offset","document","querySelector","offsetWidth","boxStart","childNodes","getBoundingClientRect","x","setState","loading","event","currentTarget","parentNode","parseInt","dataset","id","className","input","console","log","title","urlString","popup","rubrik","pointer","resultatClass","displayedGroup","edit","inside","fetchData","name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport settings from \"../settings.json\";\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { Modal } from 'react-bootstrap';\r\n\r\n\r\nimport FutureGames from './ManageTourComps/FutureGames';\r\nimport Group from './Group';\r\n\r\nimport '../css/managetour.scss';\r\nimport '../css/bootstrap.css';\r\n\r\nclass ManageTour extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      tourData: this.props.data,\r\n      teams: this.props.data.teams,\r\n      groups: this.props.data.groups,\r\n      pointerFollowStyle: {left: '0px'},\r\n      groupSelected: this.props.groupSelected,\r\n      showShadowBottom: {visibility: \"visible\"},\r\n\t\t\tshowShadowTop: {visibility: \"visible\"},\r\n      showPointer: true,\r\n      groupClass: 'grupperSel',\r\n      login: true,\r\n      error: false,\r\n      firstLoad: true,\r\n      groupHeight: {height: '70px'},\r\n      lastScrollY: 0,\r\n      ticking: false,\r\n      showModal: false\r\n\t\t};\r\n\r\n    this.format = \"ABCDEFGHIJKLMNOP\";\r\n    this.ref = React.createRef();\r\n\r\n    this.handlegroupchange = this.handlegroupchange.bind(this);\r\n    this.resize = this.resize.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleShow = this.handleShow.bind(this);\r\n  }\r\n\r\n  componentWillMount(){\r\n    window.addEventListener('resize', this.resize);\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    window.removeEventListener('resize', this.resize);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.resize();\r\n  }\r\n\r\n  resize(){\r\n    const offset = (document.querySelector(\".grupperSel\").offsetWidth)/2;\r\n    const boxStart = (document.querySelector(\".grupperSel\").childNodes[0].getBoundingClientRect().x)\r\n                    - (document.querySelector(\".groupWrap\").getBoundingClientRect().x);\r\n    this.setState({\r\n      pointerFollowStyle: {\r\n        left:\r\n          boxStart + offset +'px'\r\n      }\r\n    });\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if(!this.state.loading) {\r\n      if(this.state.firstLoad) {\r\n        this.resize();\r\n        this.setState({firstLoad: false});\r\n      }\r\n    }\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({ showModal: false });\r\n  }\r\n\r\n  handleShow() {\r\n    this.setState({ showModal: true });\r\n  }\r\n\r\n  handlegroupchange(event) {\r\n    if(event.currentTarget != event.currentTarget.parentNode.childNodes[this.state.groupSelected]) {\r\n      this.setState({groupSelected: parseInt(event.currentTarget.dataset.id)});\r\n\r\n      this.setState({groupClass: 'grupper'});\r\n      event.currentTarget.parentNode.childNodes[this.state.groupSelected].className = 'grupper';\r\n\r\n      this.setState({showPointer: true});\r\n      event.currentTarget.className = 'grupperSel';\r\n\r\n      this.resize();\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(input) {\r\n    console.log('update');\r\n    this.setState({\r\n      tourData: input.data,\r\n      teams: input.data.teams,\r\n      groups: input.data.groups//,\r\n      //groupSelected: input.groupSelected\r\n    });\r\n  }\r\n\r\n\trender() {\r\n    if(this.state.error) {\r\n\t\t\tdocument.title = \"Ingen turnering hittades\";\r\n\t\t\treturn(\r\n  \t\t\t<div>\r\n  \t\t\t\t<div className=\"no-tournament\">\r\n  \t\t\t\t\t<h1>Ingen turnering hittades</h1>\r\n  \t\t\t\t\t<p>VÃ¤nligen kontrollera att du angav korrekt address.</p>\r\n  \t\t\t\t\t<div className=\"link\">&#128279; = &#128148;</div>\r\n  \t\t\t\t\t<div className=\"line\"></div>\r\n  \t\t\t\t</div>\r\n  \t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n    else {\r\n      let urlString;\r\n      let popup;\r\n      let groups;\r\n      let rubrik;\r\n      let pointer = \"\";\r\n      let resultatClass;\r\n      let displayedGroup;\r\n      let edit = \"\";\r\n\r\n      if(this.state.loading) {\r\n        let inside = (\r\n          <div className=\"loading\"></div>\r\n        );\r\n      }\r\n\r\n      else {\r\n        // groups = this.state.groups.map((item, index, array) => {\r\n        //   let completed = \"\";\r\n        //   if(item.completed) { completed =  <div className=\"groupDoneIndi\">&#10004;</div>; }\r\n        //   if(index == this.state.groupSelected) {\r\n        //     return (\r\n        //         <div className=\"grupperSel\" key={index} data-id={index} onClick={this.handlegroupchange}>\r\n        //           <span style={{position: 'absolute', left: '-20px'}}/>\r\n        //           Serie {index + 1}\r\n        //           {completed}\r\n        //         </div>\r\n        //     )\r\n        //   }\r\n        //   else {\r\n        //     return (\r\n        //         <div className=\"grupper\" key={index} data-id={index} onClick={this.handlegroupchange}>\r\n        //           <span style={{position: 'absolute', left: '-20px'}}/>\r\n        //           Serie {index + 1}\r\n        //           {completed}\r\n        //         </div>\r\n        //     )\r\n        //   }\r\n        // });\r\n\r\n        edit = (\r\n          <div className=\"editContainer\">\r\n            <div id=\"futureGamesWrap\">\r\n              <FutureGames\r\n                data={this.state.tourData}\r\n                groupSelected={this.state.groupSelected}\r\n                fetchData={this.props.fetchData}\r\n                bracket={false}\r\n              />\r\n            </div>\r\n            <div className=\"tabellwrap\">\r\n              <div className=\"tabellcontent\">\r\n                <Group data={this.state.tourData.groups[this.state.groupSelected]} teams={this.state.tourData.teams}></Group>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n        rubrik = (\r\n          <div className=\"rubrik\">\r\n            <h2>{this.state.tourData.name}</h2>\r\n          </div>\r\n        );\r\n\r\n        if(this.state.showPointer) {\r\n          pointer = [\r\n            <div className=\"pointer-a\" key=\"a\" style={this.state.pointerFollowStyle}></div>,\r\n            <div className=\"pointer-b\" key=\"b\" style={this.state.pointerFollowStyle}></div>\r\n          ];\r\n        }\r\n        resultatClass = 'editWrap';\r\n\r\n        urlString = \"http://localhost:3000/t/\" + this.state.tourData.id;\r\n      }\r\n\r\n      return (\r\n        <div id=\"manageTour\" ref={this.ref}>\r\n          <div className=\"groupWrap\" style={this.state.groupHeight}>\r\n            <div className=\"groupContent\">\r\n              {groups}\r\n            </div>\r\n            <div className=\"clear\"></div>\r\n            <div className=\"pointerWrap\">\r\n              <div className=\"pointerContainer\">\r\n                {pointer}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"clear\"></div>\r\n          <div className={resultatClass}>\r\n            {edit}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\t}\r\n}\r\n\r\nexport default ManageTour;\r\n\r\n// <Modal show={this.state.showModal} onHide={this.handleClose}>\r\n//   <Modal.Header closeButton>\r\n//     <Modal.Title>Visningssida</Modal.Title>\r\n//   </Modal.Header>\r\n//   <Modal.Body>\r\n//     {urlString}\r\n//   </Modal.Body>\r\n// </Modal>\r\n\r\n// <CustomScrollbars autoHeight autoHeightMin={(document.documentElement.clientHeight)-65-50-62-38} onUpdate={this.handleUpdate}>\r\n// </CustomScrollbars>\r\n\r\n// <div className=\"shadowTop\" style={this.state.showShadowTop}></div>\r\n// <div className=\"shadowBottom\" style={this.state.showShadowBottom}></div>\r\n// let pointerClass = {\"pointerwrap\" + }\r\n// <Scrollbars autoWidth autoWidthMax={1200} onScroll={this.handleScroll}>\r\n//   <div className=\"groupContent\">\r\n//     {groups}\r\n//   </div>\r\n// </Scrollbars>\r\n// <input type=\"text\" readonly value={urlString}/><div className=\"copyButton\">&#x2398;</div>\r\n"]},"metadata":{},"sourceType":"module"}