{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\src\\\\components\\\\Verify.js\";\nimport React, { Component } from 'react';\nimport settings from \"../settings.json\";\nimport { Link, Redirect } from 'react-router-dom';\nimport lowResLogo from '../bilder/eyeLeagueLowestRes.png';\nimport logo from '../bilder/eyeLeagueLowRes.png';\nimport '../css/verify.scss';\nimport '../css/index.scss';\n\nvar Verify =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Verify, _Component);\n\n  function Verify(props) {\n    var _this;\n\n    _classCallCheck(this, Verify);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Verify).call(this, props));\n    document.title = \"Verifiera konto\";\n    var string = \"\";\n\n    if (_this.props.match.params.string != null) {\n      string = _this.props.match.params.string.split(\"-\");\n      _this.state = {\n        username: string[0],\n        hash: string[1],\n        verified: false,\n        loading: true\n      };\n    }\n\n    _this.verify = _this.verify.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.imageload = _this.imageload.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n\n    _this.verify();\n\n    return _this;\n  }\n\n  _createClass(Verify, [{\n    key: \"verify\",\n    value: function verify() {\n      var _this2 = this;\n\n      fetch(settings.api + \"verify/\", {\n        method: \"POST\",\n        credentials: \"include\",\n        body: \"username=\".concat(this.state.username, \"&hash=\").concat(this.state.hash)\n      }).then(function (response) {\n        _this2.setState({\n          loading: false\n        });\n\n        if (!response.ok) {\n          console.log(response);\n          throw Error(response.status);\n        } else {\n          _this2.setState({\n            verified: true\n          });\n        }\n\n        return response.json();\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {});\n    }\n  }, {\n    key: \"imageload\",\n    value: function imageload(e) {\n      e.target.style.display = \"block\";\n      e.target.parentNode.childNodes[0].style.display = \"none\";\n    }\n    /*---------------------------RENDER--------------------------*/\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var content = \"\";\n\n      if (this.state.verified) {\n        content = React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, \"Hej \", this.state.username, \". Ditt konto \\xE4r nu aktiverat.\");\n      } else {\n        content = React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, \"N\\xE5got gick tyv\\xE4rr fel. Kontot kunde inte aktiveras.\");\n      }\n\n      if (this.state.loading == true) {\n        content = React.createElement(\"div\", {\n          className: \"loading\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        id: \"verify\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"lowreslogo\",\n        src: lowResLogo,\n        alt: \"low res logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        className: \"highreslogo\",\n        src: logo,\n        alt: \"logo\",\n        onLoad: this.imageload,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, content), React.createElement(\"div\", {\n        className: \"buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: settings.url + \"login/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        onClick: this.props.goBack,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"\\u2190 Till inloggning.\"))))));\n    }\n  }]);\n\n  return Verify;\n}(Component);\n\nexport default Verify;","map":{"version":3,"sources":["C:\\Users\\victo\\Desktop\\VLQ.se\\src\\components\\Verify.js"],"names":["React","Component","settings","Link","Redirect","lowResLogo","logo","Verify","props","document","title","string","match","params","split","state","username","hash","verified","loading","verify","bind","imageload","fetch","api","method","credentials","body","then","response","setState","ok","console","log","Error","status","json","e","target","style","display","parentNode","childNodes","content","url","goBack"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport settings from \"../settings.json\";\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport lowResLogo from '../bilder/eyeLeagueLowestRes.png';\r\nimport logo from '../bilder/eyeLeagueLowRes.png';\r\n\r\nimport '../css/verify.scss';\r\nimport '../css/index.scss';\r\n\r\nclass Verify extends Component {\r\n  constructor(props) {\r\n  \tsuper(props);\r\n  \tdocument.title = \"Verifiera konto\";\r\n\r\n    let string = \"\";\r\n\r\n    if(this.props.match.params.string != null) {\r\n      string = this.props.match.params.string.split(\"-\");\r\n\r\n      this.state = {\r\n    \t\tusername: string[0],\r\n        hash: string[1],\r\n        verified: false,\r\n        loading: true\r\n    \t};\r\n    }\r\n\r\n    this.verify = this.verify.bind(this);\r\n    this.imageload = this.imageload.bind(this);\r\n    this.verify();\r\n  }\r\n\r\n  verify() {\r\n    fetch(settings.api + \"verify/\", {\r\n            method: \"POST\",\r\n            credentials: \"include\",\r\n            body: `username=${this.state.username}&hash=${this.state.hash}`\r\n        }).then(response => {\r\n          this.setState({loading: false});\r\n      \t\tif(!response.ok){console.log(response); throw Error(response.status);}\r\n          else {this.setState({verified: true});}\r\n      \t\treturn response.json()\r\n  \t    }).then(response => response.json())\r\n\t\t      .then(response => {\r\n    \t\t});\r\n  }\r\n\r\n  imageload(e) {\r\n\t\te.target.style.display = \"block\";\r\n\t\te.target.parentNode.childNodes[0].style.display = \"none\";\r\n\t}\r\n\r\n  /*---------------------------RENDER--------------------------*/\r\n\r\n  render() {\r\n    let content = \"\";\r\n\r\n    if(this.state.verified) {\r\n      content = (\r\n    \t\t<h3>Hej {this.state.username}. Ditt konto är nu aktiverat.</h3>\r\n  \t\t);\r\n    }\r\n    else {\r\n      content = (\r\n    \t\t<h3>Något gick tyvärr fel. Kontot kunde inte aktiveras.</h3>\r\n  \t\t);\r\n    }\r\n\r\n    if(this.state.loading == true) {\r\n      content = <div className=\"loading\"></div>;\r\n    }\r\n\r\n    return (\r\n      <div id=\"verify\">\r\n        <div className=\"container\">\r\n          <div className=\"logo\">\r\n            <img className=\"lowreslogo\" src={lowResLogo} alt=\"low res logo\"></img>\r\n            <img className=\"highreslogo\" src={logo} alt=\"logo\" onLoad={this.imageload}></img>\r\n          </div>\r\n          <div className=\"box\">\r\n            <div className=\"content\">\r\n              {content}\r\n            </div>\r\n            <div className=\"buttons\">\r\n              <Link to={settings.url + \"login/\"}><span onClick={this.props.goBack}>&#x2190; Till inloggning.</span></Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n\t}\r\n}\r\n\r\nexport default Verify;\r\n"]},"metadata":{},"sourceType":"module"}