{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _defineProperty from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\n\nvar _customStyles,\n    _jsxFileName = \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\src\\\\components\\\\Manage.js\";\n\nimport React, { Component } from 'react';\nimport settings from \"../settings.json\";\nimport { Modal } from 'react-bootstrap';\nimport { Link, Redirect } from 'react-router-dom'; //import Login from \"./components/Login.js\";\n\nimport JwPagination from 'jw-react-pagination';\nimport CreatableSelect from 'react-select/lib/Creatable';\nimport ManageSerie from './ManageSerie';\nimport '../css/manage.scss';\nimport '../css/index.scss';\nimport '../css/createModal.scss';\nvar customStyles = (_customStyles = {\n  clearIndicator: function clearIndicator(provided, state) {\n    return _objectSpread({}, provided);\n  },\n  control: function control(provided, state) {\n    return _objectSpread({}, provided, {\n      display: 'flex',\n      boxShadow: 'none',\n      border: state.isFocused ? '1px solid #d1af47' : '1px solid #ccc',\n      '&:hover': {\n        borderColor: state.isFocused ? '#d1af47' : 'gray'\n      }\n    });\n  },\n  container: function container(provided, state) {\n    return _objectSpread({}, provided);\n  },\n  group: function group(provided, state) {\n    return _objectSpread({}, provided);\n  },\n  groupHeading: function groupHeading(provided, state) {\n    return _objectSpread({}, provided, {\n      padding: 10\n    });\n  },\n  indicatorsContainer: function indicatorsContainer(provided, state) {\n    return _objectSpread({}, provided);\n  },\n  input: function input(provided, state) {\n    return _objectSpread({}, provided);\n  },\n  loadingIndicator: function loadingIndicator(provided, state) {\n    return _objectSpread({}, provided);\n  },\n  loadingMessage: function loadingMessage(provided, state) {\n    return _objectSpread({}, provided);\n  },\n  menu: function menu(provided, state) {\n    return _objectSpread({}, provided);\n  },\n  menuList: function menuList(provided, state) {\n    return _objectSpread({}, provided);\n  },\n  menuPortal: function menuPortal(provided, state) {\n    return _objectSpread({}, provided);\n  },\n  placeholder: function placeholder(provided, state) {\n    return _objectSpread({}, provided);\n  },\n  valueContainer: function valueContainer(provided, state) {\n    return _objectSpread({}, provided);\n  }\n}, _defineProperty(_customStyles, \"menuList\", function menuList(provided, state) {\n  return _objectSpread({}, provided);\n}), _defineProperty(_customStyles, \"singleValue\", function singleValue(provided, state) {\n  var opacity = state.isDisabled ? 0.5 : 1;\n  var transition = 'opacity 300ms';\n  return _objectSpread({}, provided, {\n    opacity: opacity,\n    transition: transition\n  });\n}), _customStyles);\nvar comps = {\n  DropdownIndicator: null\n};\n\nvar createOption = function createOption(label) {\n  return {\n    label: label,\n    value: label\n  };\n};\n\nvar Manage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Manage, _Component);\n\n  function Manage(props) {\n    var _this;\n\n    _classCallCheck(this, Manage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Manage).call(this, props));\n    document.title = \"Hantera serier\";\n    _this.state = {\n      data: [],\n      loading: true,\n      league: false,\n      login: true,\n      error: false,\n      showShadowBottom: {\n        visibility: \"hidden\"\n      },\n      showShadowTop: {\n        visibility: \"hidden\"\n      },\n      status: false\n    };\n    _this.show = _this.show.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.close = _this.close.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.fetchData = _this.fetchData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n\n    _this.fetchData();\n\n    return _this;\n  }\n\n  _createClass(Manage, [{\n    key: \"fetchData\",\n    value: function fetchData() {\n      var _this2 = this;\n\n      fetch(settings.api + \"serie\", {\n        method: \"GET\",\n        credentials: \"include\"\n      }).then(function (response) {\n        if (!response.ok) {\n          console.log(response);\n          throw Error(response.status);\n        }\n\n        return response.json();\n      }).then(function (response) {\n        _this2.setState({\n          data: response\n        });\n\n        if (response.length > 7) {\n          _this2.setState({\n            showShadowBottom: {\n              visibility: \"visible\"\n            }\n          });\n        } else {\n          _this2.setState({\n            showShadowBottom: {\n              visibility: \"hidden\"\n            }\n          });\n        }\n\n        _this2.setState({\n          loading: false\n        }); //console.log(response);\n\n      }).catch(function (error) {\n        console.log(error);\n\n        if ({\n          Error: '401'\n        }) {\n          _this2.setState({\n            loading: false,\n            login: false\n          });\n        } else {\n          _this2.setState({\n            loading: false,\n            error: true\n          });\n        }\n      });\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      this.setState({\n        status: true\n      });\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.setState({\n        status: false\n      });\n      this.fetchData();\n    }\n    /*---------------------------RENDER--------------------------*/\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.props.match.params.id) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, React.createElement(ManageSerie, {\n          id: this.props.match.params.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }));\n      } else {\n        var content = \"\";\n        var serier = [];\n        var owner = [];\n        owner = this.state.data.map(function (item) {\n          if (item.owners.length === 1) {\n            return \"-\";\n          } else if (item.owners.length === 2) {\n            return \"Hanteras med en annan användare.\";\n          } else {\n            return \"Hanteras av dig och \" + (item.owners.length - 1) + \" andra användare.\";\n          }\n        });\n\n        if (!this.state.data.length) {\n          serier = React.createElement(\"div\", {\n            className: \"skapaNy\",\n            onClick: this.show,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 174\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"skapaNyTitel\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 175\n            },\n            __self: this\n          }, \"Skapa ny serie\"));\n        } else {\n          serier = this.state.data.map(function (item, index, array) {\n            var datum = new Date(item.created);\n            return React.createElement(\"div\", {\n              className: \"tur\",\n              key: item.id,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 187\n              },\n              __self: this\n            }, React.createElement(Link, {\n              to: settings.url + \"manage/\" + item.id,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 188\n              },\n              __self: this\n            }, React.createElement(\"li\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 189\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              className: \"turtitel\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 190\n              },\n              __self: this\n            }, item.name), React.createElement(\"div\", {\n              className: \"turinfo\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 193\n              },\n              __self: this\n            }, React.createElement(\"p\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 194\n              },\n              __self: this\n            }, \"Skapad: \" + datum.getFullYear() + \"-\" + (parseInt(datum.getMonth()) + 1) + \"-\" + datum.getDate())))), React.createElement(Link, {\n              to: settings.url + \"t/\" + item.id,\n              target: \"_blank\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 200\n              },\n              __self: this\n            }, \"Visningssida \\xBB\"));\n          });\n          serier.push(React.createElement(\"div\", {\n            className: \"skapaNy\",\n            onClick: this.show,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 206\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"skapaNyTitel\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 207\n            },\n            __self: this\n          }, \"Skapa ny serie\")));\n        }\n\n        if (this.state.loading) {\n          var inside = React.createElement(\"div\", {\n            className: \"loading\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 216\n            },\n            __self: this\n          });\n          serier = \"\";\n        } //console.log(window.innerHeight);\n\n\n        return React.createElement(\"div\", {\n          id: \"manage\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        }, React.createElement(Modal, {\n          show: this.state.status,\n          onHide: this.close,\n          style: {\n            marginTop: \"-25vh\",\n            paddingLeft: \"0\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225\n          },\n          __self: this\n        }, React.createElement(Modal.Body, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226\n          },\n          __self: this\n        }, React.createElement(Create, {\n          close: this.close,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"rubrik\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231\n          },\n          __self: this\n        }, \"Hantera serier\")), React.createElement(\"div\", {\n          className: \"turWrap\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"turContent\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234\n          },\n          __self: this\n        }, React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 235\n          },\n          __self: this\n        }, serier))));\n      }\n    }\n  }]);\n\n  return Manage;\n}(Component);\n\nvar Create =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(Create, _Component2);\n\n  function Create(props) {\n    var _this3;\n\n    _classCallCheck(this, Create);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(Create).call(this, props));\n    _this3.state = {\n      serieName: \"\",\n      tName: \"\",\n      teams: [],\n      tNumbs: 2,\n      tInfo: '',\n      id: \"\",\n      loading: false,\n      isEmpty: false,\n      asterisk: true,\n      asterisk2: true,\n      counter: 0,\n      nameStyle: {},\n      teamsStyle: {},\n      nameErrormsg: \"\",\n      teamsErrormsg: \"\",\n      nameError: false,\n      teamsError: false\n    };\n    _this3.handleChange = _this3.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    _this3.handleTeamSubmit = _this3.handleTeamSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    _this3.handleTnumber = _this3.handleTnumber.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    _this3.createNew = _this3.createNew.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    _this3.serieName = _this3.serieName.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    _this3.remove = _this3.remove.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    _this3.emptyField = _this3.emptyField.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    _this3.wordCount = _this3.wordCount.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    _this3.focusOnField = _this3.focusOnField.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    _this3.focus = _this3.focus.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    _this3.handleKeyDown = _this3.handleKeyDown.bind(_assertThisInitialized(_assertThisInitialized(_this3)));\n    document.title = \"Skapa ny serie\"; //Flik titel\n\n    return _this3;\n  }\n\n  _createClass(Create, [{\n    key: \"focus\",\n    value: function focus(e) {\n      e.currentTarget.parentNode.childNodes[2].className = 'placeToLabel';\n\n      if (e.currentTarget.parentNode.className === \"fält name\") {\n        this.setState({\n          namePlacehStyle: {\n            color: \"#d1af47\"\n          },\n          name_style: {\n            borderColor: \"#d1af47\"\n          }\n        });\n      } else {\n        this.setState({\n          teamsPlacehStyle: {\n            color: \"#d1af47\"\n          },\n          teams_style: {\n            borderColor: \"#d1af47\"\n          }\n        });\n      }\n    }\n  }, {\n    key: \"serieName\",\n    value: function serieName(e) {\n      this.setState({\n        serieName: e.target.value,\n        asterisk: true,\n        nameError: false,\n        nameStyle: {}\n      });\n\n      if (e.target.value.length == 40) {\n        this.setState({\n          nameError: true,\n          nameErrormsg: \"Serienamet får innehålla max 40 tecken\",\n          nameStyle: {\n            borderColor: \"red\"\n          }\n        });\n      }\n\n      if (e.target.value.length >= 1) {\n        this.setState({\n          asterisk: false\n        });\n      }\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      this.setState({\n        tName: e,\n        teamsError: false,\n        teamsStyle: {}\n      }); // this.setState({tName: event.target.value, teamsError: false, teamsStyle: {}});\n\n      if (e.length == 25) {\n        var remove = e.slice(0, 24);\n        this.setState({\n          tName: remove,\n          teamsError: true,\n          teamsErrormsg: \"Lagnamn får innehålla max 25 tecken\",\n          teamsStyle: {\n            borderColor: \"red\"\n          }\n        });\n      }\n    }\n  }, {\n    key: \"handleTnumber\",\n    value: function handleTnumber(event) {\n      if (event.target.value.match(/^[0-9\\b]+$/) || event.target.value === \"\") {\n        if (event.target.value > this.state.teams.length) {\n          this.setState({\n            tNumbs: this.state.teams.length,\n            isEmpty: false\n          });\n        } else {\n          this.setState({\n            tNumbs: event.target.value,\n            isEmpty: true\n          });\n        }\n      }\n    }\n  }, {\n    key: \"handleTeamSubmit\",\n    value: function handleTeamSubmit(e) {// this.setState({teams: e});\n      // if (!this.state.tName.trim() == \"\"){\n      // \tconst teams2 = this.state.teams.concat([this.state.tName]);\n      //\n      // \tthis.setState({teams: teams2});\n      // \tthis.setState({tName:'', maxChar2: false});\n      // }\n      // if(this.state.teams.length >= 1){\n      // \tthis.setState({asterisk2: false});\n      // }\n      //\n      // event.preventDefault();\n    }\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(e) {\n      if (!this.state.tName) return;\n\n      switch (e.key) {\n        case 'Enter':\n        case 'Tab':\n          // let teams = this.state.teams;\n          // teams.push({this.state.tName, value: this.state.tName});\n          // this.handleTeamSubmit(teams);\n          this.setState({\n            tName: '',\n            teams: [].concat(_toConsumableArray(this.state.teams), [createOption(this.state.tName)])\n          });\n          e.preventDefault();\n      }\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(name, i) {\n      var dummyteams = this.state.teams;\n      var removed = dummyteams.splice(i, 1);\n\n      if (dummyteams.length < 2) {\n        this.setState({\n          teams: dummyteams,\n          asterisk2: true\n        });\n      } else {\n        this.setState({\n          teams: dummyteams\n        });\n      }\n    }\n  }, {\n    key: \"emptyField\",\n    value: function emptyField(event) {\n      if (event.target.value === \"\" || event.target.value < 2 || event.target.value > this.state.teams.length) {\n        this.setState({\n          tNumbs: 2,\n          isEmpty: false\n        });\n      }\n    } //Word count\n\n  }, {\n    key: \"wordCount\",\n    value: function wordCount(event) {\n      this.setState({\n        counter: event.target.value.length,\n        tInfo: event.target.value\n      });\n    }\n  }, {\n    key: \"createNew\",\n    value: function createNew(e) {\n      var _this4 = this;\n\n      e.preventDefault(); //turnerningnamn,   lag minst 2 lag,   antal lag/grupp,\n\n      if (this.state.teams.length < 2 || this.state.tNumbs < 2 && this.state.tNumbs > 20 || this.state.serieName.trim() == \"\") {\n        if (this.state.teams.length < 2) {\n          this.setState({\n            teamsError: true,\n            teamsErrormsg: \"Lägg till minst två lag\",\n            teamsStyle: {\n              borderColor: \"red\"\n            }\n          });\n        }\n\n        if (this.state.serieName.trim() == \"\") {\n          this.setState({\n            nameError: true,\n            nameErrormsg: \"Skriv in ett namn på din turnering\",\n            nameStyle: {\n              borderColor: \"red\"\n            }\n          });\n        }\n\n        return;\n      }\n\n      this.setState({\n        loading: true\n      });\n      var allteams = \"\";\n\n      for (var i = 0; i < this.state.teams.length; ++i) {\n        allteams += \"&team=\" + this.state.teams[i];\n      }\n\n      fetch(settings.api + \"serie/\", {\n        method: \"POST\",\n        credentials: \"include\",\n        body: \"name=\".concat(this.state.serieName).concat(allteams, \"&text=\").concat(this.state.tInfo)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        if (response.status == true) {\n          _this4.setState({\n            id: response.id\n          });\n\n          _this4.props.close();\n        } else {\n          _this4.setState({\n            loading: false\n          });\n\n          alert(\"Oops, något gick fel, vänligen försök igen!\");\n        }\n      });\n    }\n  }, {\n    key: \"focusOnField\",\n    value: function focusOnField(e) {\n      e.target.parentNode.childNodes[0].focus();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      //Fixar loading animationen\n      var mySubmit = \"Skapa ny turnering\";\n\n      if (this.state.loading) {\n        mySubmit = React.createElement(\"div\", {\n          className: \"loading\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 420\n          },\n          __self: this\n        });\n      }\n\n      var lagholder = \"\";\n\n      if (this.state.teams.length == 0) {\n        lagholder = \"Inga lag tillagda\";\n      } else {\n        lagholder = \"Antal lag: \" + this.state.teams.length;\n      } //Asterisk obligatoriska fält\n\n\n      var asterisk = \"\";\n\n      if (this.state.asterisk) {\n        asterisk = React.createElement(\"label\", {\n          id: \"asterisk\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 433\n          },\n          __self: this\n        }, \" *\");\n      }\n\n      var asterisk2 = \"\";\n\n      if (this.state.asterisk2) {\n        asterisk2 = React.createElement(\"label\", {\n          id: \"asterisk\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 437\n          },\n          __self: this\n        }, \" *\");\n      }\n\n      var nameerror = React.createElement(\"div\", {\n        className: \"error-hide\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 440\n        },\n        __self: this\n      });\n\n      if (this.state.nameError) {\n        nameerror = React.createElement(\"div\", {\n          className: \"error-show\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 442\n          },\n          __self: this\n        }, this.state.nameErrormsg);\n      }\n\n      var teamserror = React.createElement(\"div\", {\n        className: \"error-hide\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444\n        },\n        __self: this\n      });\n\n      if (this.state.teamsError) {\n        teamserror = React.createElement(\"div\", {\n          className: \"error-show\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 446\n          },\n          __self: this\n        }, this.state.teamsErrormsg);\n      } //Detta borde va en egen component kanske - det vill jag inte//OSCAR\n      // const t = this.state.teams.map((name, i) => {\n      // \treturn (<div className=\"teamwrap\">\n      // \t<div className=\"newteam\">{name}</div>\n      // \t<div className=\"removeteam\" onClick={(e) => {\n      // \t\t\te.stopPropagation();\n      // \t\t\te.preventDefault();\n      // \t\t\tthis.remove(name, i);\n      // \t\t}}>&times;</div>\n      // </div>)\n      // });\n\n\n      return React.createElement(\"div\", {\n        id: \"createwrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 462\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 464\n        },\n        __self: this\n      }, \"Skapa serie\"), React.createElement(\"div\", {\n        id: \"inre\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 466\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 467\n        },\n        __self: this\n      }, \"Serienamn\", asterisk), React.createElement(\"input\", {\n        style: this.state.nameStyle,\n        type: \"text\",\n        className: \"f\\xE4lt name\",\n        onChange: this.serieName,\n        maxlength: \"40\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470\n        },\n        __self: this\n      }), nameerror), React.createElement(\"div\", {\n        className: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 473\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 474\n        },\n        __self: this\n      }, \" L\\xE4gg till lag\", asterisk2), React.createElement(CreatableSelect, {\n        className: \"react-select-container\",\n        classNamePrefix: \"react-select\",\n        styles: customStyles,\n        components: comps,\n        inputValue: this.state.tName,\n        isClearable: true,\n        isMulti: true,\n        menuIsOpen: false,\n        onChange: this.handleTeamSubmit,\n        onInputChange: this.handleChange,\n        onKeyDown: this.handleKeyDown,\n        placeholder: \"Skriv in ett lagnamn och tryck p\\xE5 enter...\",\n        value: this.state.teams,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 475\n        },\n        __self: this\n      }), teamserror), React.createElement(\"div\", {\n        className: \"lagholder\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 492\n        },\n        __self: this\n      }, lagholder), React.createElement(\"div\", {\n        className: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 494\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"submit\",\n        onClick: this.createNew,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 495\n        },\n        __self: this\n      }, mySubmit), React.createElement(\"div\", {\n        id: \"ast\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 498\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 498\n        },\n        __self: this\n      }, \"*\"), \" = obligatoriska f\\xE4lt\"))));\n    }\n  }]);\n\n  return Create;\n}(Component);\n\nexport default Manage; // <div id=\"nyttLag\">\n// \t<input style={this.state.teamsStyle} type=\"text\" className=\"fält teams\" value={this.state.tName} onInput={this.handleChange} onBlur={this.blurChange} maxlength=\"25\"/>\n// \t<input id=\"plus\" type=\"submit\" value=\"Lägg till\" onClick={this.focusOnField}/>\n// </div>","map":{"version":3,"sources":["C:\\Users\\victo\\Desktop\\VLQ.se\\src\\components\\Manage.js"],"names":["React","Component","settings","Modal","Link","Redirect","JwPagination","CreatableSelect","ManageSerie","customStyles","clearIndicator","provided","state","control","display","boxShadow","border","isFocused","borderColor","container","group","groupHeading","padding","indicatorsContainer","input","loadingIndicator","loadingMessage","menu","menuList","menuPortal","placeholder","valueContainer","opacity","isDisabled","transition","comps","DropdownIndicator","createOption","label","value","Manage","props","document","title","data","loading","league","login","error","showShadowBottom","visibility","showShadowTop","status","show","bind","close","fetchData","fetch","api","method","credentials","then","response","ok","console","log","Error","json","setState","length","catch","match","params","id","content","serier","owner","map","item","owners","index","array","datum","Date","created","url","name","getFullYear","parseInt","getMonth","getDate","push","inside","marginTop","paddingLeft","Create","serieName","tName","teams","tNumbs","tInfo","isEmpty","asterisk","asterisk2","counter","nameStyle","teamsStyle","nameErrormsg","teamsErrormsg","nameError","teamsError","handleChange","handleTeamSubmit","handleTnumber","createNew","remove","emptyField","wordCount","focusOnField","focus","handleKeyDown","e","currentTarget","parentNode","childNodes","className","namePlacehStyle","color","name_style","teamsPlacehStyle","teams_style","target","slice","event","key","preventDefault","i","dummyteams","removed","splice","trim","allteams","body","alert","mySubmit","lagholder","nameerror","teamserror"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport settings from \"../settings.json\";\r\nimport { Modal } from 'react-bootstrap';\r\nimport { Link, Redirect } from 'react-router-dom';\r\n//import Login from \"./components/Login.js\";\r\nimport JwPagination from 'jw-react-pagination';\r\nimport CreatableSelect from 'react-select/lib/Creatable';\r\n\r\nimport ManageSerie from './ManageSerie';\r\n\r\nimport '../css/manage.scss';\r\nimport '../css/index.scss';\r\nimport '../css/createModal.scss';\r\n\r\nconst customStyles = {\r\n  clearIndicator: (provided, state) => ({\r\n    ...provided,\r\n  }),\r\n  control: (provided, state) => ({\r\n    ...provided,\r\n    display: 'flex',\r\n    boxShadow: 'none',\r\n    border: state.isFocused ? '1px solid #d1af47' : '1px solid #ccc',\r\n    '&:hover': {\r\n      borderColor: state.isFocused ? '#d1af47' : 'gray',\r\n    }\r\n  }),\r\n  container: (provided, state) => ({\r\n    ...provided,\r\n  }),\r\n  group: (provided, state) => ({\r\n    ...provided\r\n  }),\r\n  groupHeading: (provided, state) => ({\r\n    ...provided,\r\n    padding: 10\r\n  }),\r\n  indicatorsContainer: (provided, state) => ({\r\n    ...provided,\r\n  }),\r\n  input: (provided, state) => ({\r\n    ...provided\r\n  }),\r\n  loadingIndicator: (provided, state) => ({\r\n    ...provided,\r\n  }),\r\n  loadingMessage: (provided, state) => ({\r\n    ...provided,\r\n  }),\r\n  menu: (provided, state) => ({\r\n    ...provided,\r\n  }),\r\n  menuList: (provided, state) => ({\r\n    ...provided,\r\n  }),\r\n  menuPortal: (provided, state) => ({\r\n    ...provided,\r\n  }),\r\n  placeholder: (provided, state) => ({\r\n    ...provided,\r\n  }),\r\n  valueContainer: (provided, state) => ({\r\n    ...provided,\r\n  }),\r\n  menuList: (provided, state) => ({\r\n    ...provided,\r\n  }),\r\n  singleValue: (provided, state) => {\r\n    const opacity = state.isDisabled ? 0.5 : 1;\r\n    const transition = 'opacity 300ms';\r\n\r\n    return { ...provided, opacity, transition };\r\n  }\r\n}\r\n\r\nconst comps = {\r\n\tDropdownIndicator: null,\r\n};\r\n\r\nconst createOption = (label: string) => ({\r\n  label,\r\n  value: label,\r\n});\r\n\r\nclass Manage extends Component {\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tdocument.title = \"Hantera serier\";\r\n\r\n\t\tthis.state = {\r\n\t\t\tdata: [],\r\n\t\t\tloading: true,\r\n\t\t\tleague: false,\r\n\t\t\tlogin: true,\r\n\t\t\terror: false,\r\n\t\t\tshowShadowBottom: {visibility: \"hidden\"},\r\n\t\t\tshowShadowTop: {visibility: \"hidden\"},\r\n\t\t\tstatus: false\r\n\t\t};\r\n\r\n\t\tthis.show = this.show.bind(this);\r\n\t\tthis.close = this.close.bind(this);\r\n\t\tthis.fetchData = this.fetchData.bind(this);\r\n\r\n\t\tthis.fetchData();\r\n\t}\r\n\r\n\tfetchData() {\r\n\t\tfetch(settings.api + \"serie\", {\r\n            method: \"GET\",\r\n            credentials: \"include\"\r\n        }).then(response => {\r\n\t\t\tif(!response.ok){console.log(response); throw Error(response.status);}\r\n\t\t\treturn response.json()\r\n\t\t}).then(response => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tdata: response\r\n\t\t\t});\r\n\t\t\tif(response.length > 7){this.setState({showShadowBottom: {visibility: \"visible\"}});}\r\n\t\t\telse {this.setState({showShadowBottom: {visibility: \"hidden\"}});}\r\n\t\t\tthis.setState({loading: false});\r\n\t\t\t//console.log(response);\r\n\t\t}).catch((error) => {\r\n\t\t\tconsole.log(error);\r\n\t\t\tif({Error: '401'}) {\r\n\t\t\t\tthis.setState({loading: false, login: false});\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.setState({loading: false, error: true});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tshow(){\r\n\t\t\tthis.setState({status: true});\r\n\t}\r\n\r\n\tclose(){\r\n\t\tthis.setState({status: false});\r\n\t\tthis.fetchData();\r\n\t}\r\n\r\n/*---------------------------RENDER--------------------------*/\r\n\r\n\trender() {\r\n\t\tif(this.props.match.params.id) {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<ManageSerie id={this.props.match.params.id} />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\telse {\r\n\t\t\tlet content = \"\";\r\n\t\t\tlet serier = [];\r\n\t\t\tlet owner = [];\r\n\r\n\t\t\towner = this.state.data.map((item) => {\r\n\t\t\t\tif(item.owners.length === 1) {\r\n\t\t\t\t\treturn \"-\";\r\n\t\t\t\t}\r\n\t\t\t\telse if(item.owners.length === 2) {\r\n\t\t\t\t\treturn \"Hanteras med en annan användare.\"\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\treturn \"Hanteras av dig och \" + (item.owners.length - 1) + \" andra användare.\";\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif(!this.state.data.length) {\r\n\t\t\t\tserier = (\r\n\t\t\t\t\t<div className=\"skapaNy\" onClick={this.show}>\r\n\t\t\t\t\t\t\t<div className=\"skapaNyTitel\">\r\n\t\t\t\t\t\t\t\tSkapa ny serie\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tserier = this.state.data.map((item, index, array) => {\r\n\r\n\t\t\t\t\tconst datum = new Date(item.created);\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div className=\"tur\" key={item.id}>\r\n\t\t\t\t\t\t\t\t<Link to={settings.url + \"manage/\" + item.id}>\r\n\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"turtitel\">\r\n\t\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"turinfo\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\"Skapad: \" + datum.getFullYear() + \"-\" + (parseInt(datum.getMonth())+1) + \"-\" + datum.getDate()}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t<Link to={settings.url + \"t/\" + item.id} target=\"_blank\">Visningssida &#187;</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t});\r\n\r\n\t\t\t\tserier.push(\r\n\t\t\t\t\t<div className=\"skapaNy\" onClick={this.show}>\r\n\t\t\t\t\t\t\t<div className=\"skapaNyTitel\">\r\n\t\t\t\t\t\t\t\tSkapa ny serie\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tif(this.state.loading){\r\n\t\t\t\tlet inside = (\r\n\t\t\t\t\t<div className=\"loading\">\r\n\t\t\t\t\t</div>);\r\n\r\n\t\t\t\tserier = \"\";\r\n\t\t\t}\r\n\r\n\t\t\t//console.log(window.innerHeight);\r\n\t    return (\r\n\t\t\t\t<div id=\"manage\">\r\n\t\t\t\t\t<Modal show={this.state.status} onHide={this.close} style={{marginTop: \"-25vh\", paddingLeft: \"0\"}}>\r\n\t\t\t\t\t\t <Modal.Body>\r\n\t\t\t\t\t\t\t\t\t<Create close={this.close}/>\r\n\t\t\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t </Modal>\r\n\t\t\t\t\t<div className=\"rubrik\">\r\n\t\t\t\t\t\t<h2>Hantera serier</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"turWrap\">\r\n\t\t\t\t\t\t<div className=\"turContent\">\r\n\t\t\t\t\t\t\t<ul>{serier}</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass Create extends Component {\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tserieName: \"\",\r\n\t\t\ttName: \"\",\r\n\t\t\tteams: [],\r\n\t\t\ttNumbs: 2,\r\n\t\t\ttInfo: '',\r\n\t\t\tid: \"\",\r\n\t\t\tloading: false,\r\n\t\t\tisEmpty: false,\r\n\t\t\tasterisk: true,\r\n\t\t\tasterisk2: true,\r\n\t\t\tcounter: 0,\r\n\t\t\tnameStyle: {},\r\n\t\t\tteamsStyle: {},\r\n\t\t\tnameErrormsg: \"\",\r\n\t\t\tteamsErrormsg: \"\",\r\n\t\t\tnameError: false,\r\n\t\t\tteamsError: false\r\n\t\t};\r\n\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t  this.handleTeamSubmit = this.handleTeamSubmit.bind(this);\r\n\t\tthis.handleTnumber = this.handleTnumber.bind(this);\r\n\t\tthis.createNew = this.createNew.bind(this);\r\n\t\tthis.serieName = this.serieName.bind(this);\r\n\t\tthis.remove = this.remove.bind(this);\r\n\t\tthis.emptyField = this.emptyField.bind(this);\r\n\t\tthis.wordCount = this.wordCount.bind(this);\r\n\t\tthis.focusOnField = this.focusOnField.bind(this);\r\n\t\tthis.focus = this.focus.bind(this);\r\n\t\tthis.handleKeyDown = this.handleKeyDown.bind(this);\r\n\r\n\t\tdocument.title = \"Skapa ny serie\"; //Flik titel\r\n\t}\r\n\r\n\tfocus(e) {\r\n\t\te.currentTarget.parentNode.childNodes[2].className = 'placeToLabel';\r\n\t\tif(e.currentTarget.parentNode.className === \"fält name\") {\r\n\t\t\tthis.setState({namePlacehStyle: {color: \"#d1af47\"}, name_style: {borderColor: \"#d1af47\"}});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({teamsPlacehStyle: {color: \"#d1af47\"}, teams_style: {borderColor: \"#d1af47\"}});\r\n\t\t}\r\n\t}\r\n\r\n\tserieName(e) {\r\n\t\tthis.setState({serieName: e.target.value, asterisk: true, nameError: false, nameStyle: {}});\r\n\t\tif(e.target.value.length == 40){\r\n\t\t\tthis.setState({nameError: true, nameErrormsg: \"Serienamet får innehålla max 40 tecken\", nameStyle: {borderColor: \"red\"}});\r\n\t\t}\r\n\t\tif(e.target.value.length >= 1){\r\n\t\t\tthis.setState({asterisk:false});\r\n\t\t}\r\n\r\n\t}\r\n\r\n\thandleChange(e) {\r\n\t\tthis.setState({tName: e, teamsError: false, teamsStyle: {}});\r\n\t\t// this.setState({tName: event.target.value, teamsError: false, teamsStyle: {}});\r\n\t\tif(e.length == 25){\r\n\t\t\tlet remove = e.slice(0, 24);\r\n\t\t\tthis.setState({tName: remove, teamsError: true, teamsErrormsg: \"Lagnamn får innehålla max 25 tecken\", teamsStyle: {borderColor: \"red\"}});\r\n\t\t}\r\n\t}\r\n\r\n\thandleTnumber(event){\r\n\t\tif(event.target.value.match(/^[0-9\\b]+$/) || event.target.value === \"\") {\r\n\t\t\t\tif(event.target.value > this.state.teams.length) {\r\n\t\t\t\t\tthis.setState({tNumbs: this.state.teams.length, isEmpty: false});\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\tthis.setState({tNumbs: event.target.value, isEmpty : true});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thandleTeamSubmit(e) {\r\n\t\t// this.setState({teams: e});\r\n\t\t// if (!this.state.tName.trim() == \"\"){\r\n\t  // \tconst teams2 = this.state.teams.concat([this.state.tName]);\r\n\t\t//\r\n\t\t// \tthis.setState({teams: teams2});\r\n\t\t// \tthis.setState({tName:'', maxChar2: false});\r\n\t\t// }\r\n\t\t// if(this.state.teams.length >= 1){\r\n\t\t// \tthis.setState({asterisk2: false});\r\n\t\t// }\r\n\t\t//\r\n\t\t// event.preventDefault();\r\n\t}\r\n\r\n\thandleKeyDown(e) {\r\n    if(!this.state.tName) return;\r\n    switch (e.key) {\r\n      case 'Enter':\r\n      case 'Tab':\r\n\t\t\t\t// let teams = this.state.teams;\r\n\t\t\t\t// teams.push({this.state.tName, value: this.state.tName});\r\n\t\t\t\t// this.handleTeamSubmit(teams);\r\n        this.setState({\r\n          tName: '',\r\n\t\t\t\t\tteams: [...this.state.teams, createOption(this.state.tName)],\r\n        });\r\n        e.preventDefault();\r\n    }\r\n\t}\r\n\r\n\tremove(name, i){\r\n\t\tconst dummyteams = this.state.teams;\r\n\t\tlet removed = dummyteams.splice(i,1);\r\n\r\n\t\t\t\tif(dummyteams.length < 2){\r\n\t\t\t\t\tthis.setState({teams: dummyteams, asterisk2: true});\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tthis.setState({teams: dummyteams});\r\n\t\t\t\t}\r\n\t}\r\n\r\n\temptyField(event){\r\n\t\tif(event.target.value === \"\" || event.target.value < 2 || event.target.value > this.state.teams.length){\r\n\t\t\tthis.setState({tNumbs: 2, isEmpty: false});\r\n\t\t}\r\n\t}\r\n\t//Word count\r\n\twordCount(event){\r\n\t\tthis.setState({counter: event.target.value.length, tInfo: event.target.value});\r\n\r\n\t}\r\n\r\n\tcreateNew(e){\r\n\t\te.preventDefault();\r\n\t\t//turnerningnamn,   lag minst 2 lag,   antal lag/grupp,\r\n\t\tif(this.state.teams.length < 2 || (this.state.tNumbs < 2 && this.state.tNumbs > 20 || this.state.serieName.trim() == \"\" )){\r\n\t\t\t\tif(this.state.teams.length <2){this.setState({teamsError: true, teamsErrormsg: \"Lägg till minst två lag\", teamsStyle: {borderColor: \"red\"}});}\r\n\t\t\t\tif(this.state.serieName.trim() == \"\"){this.setState({nameError: true, nameErrormsg: \"Skriv in ett namn på din turnering\", nameStyle: {borderColor: \"red\"}});}\r\n\t\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.setState({loading:true});\r\n\r\n\t\tlet allteams = \"\";\r\n\r\n\t\tfor(let i = 0; i < this.state.teams.length; ++i) {\r\n\t\t\tallteams += \"&team=\" + this.state.teams[i];\r\n\t\t}\r\n\r\n\t\tfetch(settings.api + \"serie/\", {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tcredentials: \"include\",\r\n\t\t\tbody: `name=${this.state.serieName}${allteams}&text=${this.state.tInfo}`\r\n\t\t})\r\n\t\t.then(response => response.json())\r\n\t\t.then(response => {\r\n\t\t\tif(response.status == true){\r\n\t\t\t\tthis.setState({id: response.id});\r\n\t\t\t\tthis.props.close();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.setState({loading:false})\r\n\t\t\t\talert(\"Oops, något gick fel, vänligen försök igen!\");\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfocusOnField(e) {\r\n\t\te.target.parentNode.childNodes[0].focus();\r\n\t}\r\n\r\n\trender() {\r\n\t\t//Fixar loading animationen\r\n\t\tlet mySubmit = \"Skapa ny turnering\";\r\n\t\tif(this.state.loading){\r\n\t\t\tmySubmit = <div className=\"loading\"></div>\r\n\t\t}\r\n\r\n\t\tlet lagholder = \"\";\r\n\t\tif(this.state.teams.length == 0) {\r\n\t\t\tlagholder = \"Inga lag tillagda\";\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlagholder = \"Antal lag: \" + this.state.teams.length;\r\n\t\t}\r\n\t\t//Asterisk obligatoriska fält\r\n\t\tlet asterisk = \"\";\r\n\t\tif(this.state.asterisk){\r\n\t\t\tasterisk = <label id=\"asterisk\"> *</label>;\r\n\t\t}\r\n\t\tlet asterisk2 =\"\";\r\n\t\tif(this.state.asterisk2){\r\n\t\t\t\tasterisk2 = <label id=\"asterisk\"> *</label>;\r\n\t\t}\r\n\r\n\t\tlet nameerror = <div className=\"error-hide\"></div>;\r\n\t\tif(this.state.nameError){\r\n\t\t\tnameerror = <div className=\"error-show\">{this.state.nameErrormsg}</div>;\r\n\t\t}\r\n\t\tlet teamserror = <div className=\"error-hide\"></div>;\r\n\t\tif(this.state.teamsError){\r\n\t\t\tteamserror = <div className=\"error-show\">{this.state.teamsErrormsg}</div>;\r\n\t\t}\r\n\r\n\t\t//Detta borde va en egen component kanske - det vill jag inte//OSCAR\r\n\t\t// const t = this.state.teams.map((name, i) => {\r\n\t\t// \treturn (<div className=\"teamwrap\">\r\n\t\t// \t<div className=\"newteam\">{name}</div>\r\n\t\t// \t<div className=\"removeteam\" onClick={(e) => {\r\n\t\t// \t\t\te.stopPropagation();\r\n\t\t// \t\t\te.preventDefault();\r\n\t\t// \t\t\tthis.remove(name, i);\r\n\t\t// \t\t}}>&times;</div>\r\n\t\t// </div>)\r\n\t\t// });\r\n\r\n    \treturn (\r\n\t\t\t\t<div id=\"createwrap\">\r\n\t\t\t\t\t{/*}<form className=\"yttre\">{*/}\r\n\t\t\t\t\t\t<h2>Skapa serie</h2>\r\n\t\t\t\t\t\t<div id=\"inre\">\r\n\t\t\t\t\t\t\t<div className=\"form\">\r\n\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\tSerienamn{asterisk}\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input style={this.state.nameStyle} type=\"text\" className=\"fält name\" onChange={this.serieName} maxlength=\"40\"/>\r\n\t\t\t\t\t\t\t\t{nameerror}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"form\">\r\n\t\t\t\t\t\t\t\t\t<label> Lägg till lag{asterisk2}</label>\r\n\t\t\t\t\t\t\t\t\t<CreatableSelect\r\n\t\t\t\t\t\t\t\t\t\tclassName='react-select-container'\r\n\t\t\t              classNamePrefix=\"react-select\"\r\n\t\t\t\t\t\t\t\t\t\tstyles={customStyles}\r\n\t\t\t\t\t\t        components={comps}\r\n\t\t\t\t\t\t        inputValue={this.state.tName}\r\n\t\t\t\t\t\t        isClearable\r\n\t\t\t\t\t\t        isMulti\r\n\t\t\t\t\t\t        menuIsOpen={false}\r\n\t\t\t\t\t\t        onChange={this.handleTeamSubmit}\r\n\t\t\t\t\t\t        onInputChange={this.handleChange}\r\n\t\t\t\t\t\t        onKeyDown={this.handleKeyDown}\r\n\t\t\t\t\t\t        placeholder=\"Skriv in ett lagnamn och tryck på enter...\"\r\n\t\t\t\t\t\t        value={this.state.teams}\r\n\t\t\t\t\t\t      />\r\n\t\t\t\t\t\t\t\t\t{teamserror}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"lagholder\">{lagholder}</div>\r\n\t\t\t\t\t\t\t{/*}<div id=\"teams\">{t}</div>{*/}\r\n\t\t\t\t\t\t\t<div className=\"form\">\r\n\t\t\t\t\t\t\t\t<div className=\"submit\" onClick ={this.createNew}>\r\n\t\t\t\t\t\t\t\t\t{mySubmit}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div id=\"ast\"><span>*</span> = obligatoriska fält</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t{/*}</form>{*/}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t}\r\n}\r\n\r\nexport default Manage;\r\n\r\n// <div id=\"nyttLag\">\r\n// \t<input style={this.state.teamsStyle} type=\"text\" className=\"fält teams\" value={this.state.tName} onInput={this.handleChange} onBlur={this.blurChange} maxlength=\"25\"/>\r\n// \t<input id=\"plus\" type=\"submit\" value=\"Lägg till\" onClick={this.focusOnField}/>\r\n// </div>\r\n"]},"metadata":{},"sourceType":"module"}