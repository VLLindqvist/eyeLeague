{"ast":null,"code":"import _assertThisInitialized from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _classCallCheck from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch, Redirect, NavLink as Link } from 'react-router-dom';\nimport './css/app.scss';\nimport settings from \"./settings.json\";\nimport lowResLogo from './bilder/eyeLeagueLowestRes.png';\nimport logo from './bilder/eyeLeagueLowRes.png';\nimport Login from \"./components/Login\";\nimport Logout from \"./components/Logout\";\nimport Tournament from \"./components/Tournament\";\nimport Error from \"./components/Error\";\nimport Create from \"./components/Create\";\nimport Manage from \"./components/Manage\"; // import ManageTour from \"./components/ManageTour\";\n// ta bort!\n\nimport Test from \"./components/Edit\";\nimport Verify from \"./components/Verify\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    _classCallCheck(this, App);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(App).apply(this, arguments));\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var url = window.location.href.replace(\"http://\", \"\").replace(\".vlq.se\", \"\").split(\"/\");\n      console.log(url);\n\n      if (url[0] === \"inside\" || url[0] === \"localhost:3000\") {\n        settings.api = \"http://192.168.1.3:3002/\";\n      }\n\n      console.log(settings.api);\n      return React.createElement(BrowserRouter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: settings.url + \"/\",\n        component: Admin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: settings.url + \"t/\",\n        component: Tournament,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: settings.url + \"t/:id\",\n        component: Tournament,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: settings.url + \"create\",\n        component: Admin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: settings.url + \"manage\",\n        component: Admin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: settings.url + \"manage/:id\",\n        component: Admin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: settings.url + \"login\",\n        component: Login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: settings.url + \"login/:hash\",\n        component: Login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: settings.url + \"logout\",\n        component: Logout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: settings.url + \"verify/:string\",\n        component: Verify,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }), React.createElement(Route, {\n        component: Error,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component); //https://stackoverflow.com/questions/44188969/how-to-pass-the-match-when-using-render-in-route-component-from-react-router-v4\n\n\nvar Admin =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(Admin, _Component2);\n\n  function Admin() {\n    var _this;\n\n    _classCallCheck(this, Admin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Admin).call(this));\n    _this.state = {\n      username: '',\n      error: false,\n      loading: true,\n      accountSelected: false\n    };\n    _this.accountSelect = _this.accountSelect.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.update = _this.update.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.imageload = _this.imageload.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleScroll = _this.handleScroll.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n\n    _this.update();\n\n    return _this;\n  }\n\n  _createClass(Admin, [{\n    key: \"accountSelect\",\n    value: function accountSelect(e) {\n      e.preventDefault();\n\n      if (this.state.accountSelected) {\n        this.setState({\n          accountSelected: false\n        });\n        return;\n      }\n\n      this.setState({\n        accountSelected: true\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var _this2 = this;\n\n      fetch(settings.api + \"user/\", {\n        method: \"GET\",\n        credentials: \"include\"\n      }).then(function (response) {\n        if (response.status == '401') {\n          throw 0;\n        }\n\n        ;\n        return response.json();\n      }).then(function (response) {\n        _this2.setState({\n          username: response.username,\n          loading: false\n        });\n      }).catch(function (err) {\n        _this2.setState({\n          error: true\n        });\n      });\n    }\n  }, {\n    key: \"imageload\",\n    value: function imageload(e) {\n      e.target.style.display = \"block\";\n      e.target.parentNode.childNodes[0].style.display = \"none\";\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.addEventListener('scroll', this.handleScrollToElement);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('scroll', this.handleScrollToElement);\n    }\n  }, {\n    key: \"handleScroll\",\n    value: function handleScroll(event) {\n      console.log(\"hej\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (this.state.error) {\n        return React.createElement(Redirect, {\n          to: settings.url + \"login/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        });\n      }\n\n      if (this.state.loading) {\n        return React.createElement(\"div\", {\n          id: \"root-loading\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"root-spinner\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }));\n      } // <nav>\n      // \t<Link activeClassName=\"selected\" to={settings.url + \"manage/\"}>Hantera serier</Link>\n      // \t<Link activeClassName=\"selected\" to={settings.url + \"create/\"}>Skapa serie</Link>\n      // </nav\n      //<Link to={settings.url + \"manage/\"}><img src={logo} alt=\"logo my logo\"></img></Link>\n\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: settings.url + \"manage/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"lowreslogo\",\n        src: lowResLogo,\n        alt: \"low res logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        className: \"highreslogo\",\n        src: logo,\n        alt: \"logo\",\n        onLoad: this.imageload,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: this.state.accountSelected ? \"accountSelected user\" : \"user\",\n        onClick: this.accountSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"accountIcon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, this.state.username), React.createElement(\"div\", {\n        className: \"pil\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        id: \"hamburger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          display: this.state.accountSelected ? \"flex\" : \"none\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: settings.url + \"logout/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Logga ut \\xBB\")))))), React.createElement(\"main\", {\n        className: \"wrapper\",\n        onScroll: this.handleScroll,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: settings.url + \"/\",\n        render: function render() {\n          return React.createElement(Redirect, {\n            to: settings.url + \"manage/\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 155\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: settings.url + \"create\",\n        component: Create,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: settings.url + \"manage\",\n        component: Manage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: settings.url + \"manage/:id\",\n        render: function render(_ref) {\n          var match = _ref.match;\n          return React.createElement(Test, {\n            username: _this3.state.username,\n            match: match,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 159\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Admin;\n}(Component);\n\nexport default App; //<Route exact path={settings.url + \"verify/:string\"} render={({match}) => <Verify username={this.state.username} match={match}></Verify>} />","map":{"version":3,"sources":["C:\\Users\\victo\\Desktop\\VLQ.se\\src\\App.js"],"names":["React","Component","BrowserRouter","Route","Switch","Redirect","NavLink","Link","settings","lowResLogo","logo","Login","Logout","Tournament","Error","Create","Manage","Test","Verify","App","url","window","location","href","replace","split","console","log","api","Admin","state","username","error","loading","accountSelected","accountSelect","bind","update","imageload","handleScroll","e","preventDefault","setState","fetch","method","credentials","then","response","status","json","catch","err","target","style","display","parentNode","childNodes","addEventListener","handleScrollToElement","removeEventListener","event","match"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { BrowserRouter, Route, Switch, Redirect, NavLink as Link } from 'react-router-dom';\r\n\r\nimport './css/app.scss';\r\n\r\nimport settings from \"./settings.json\";\r\nimport lowResLogo from './bilder/eyeLeagueLowestRes.png';\r\nimport logo from './bilder/eyeLeagueLowRes.png';\r\n\r\nimport Login from \"./components/Login\";\r\nimport Logout from \"./components/Logout\";\r\nimport Tournament from \"./components/Tournament\";\r\nimport Error from \"./components/Error\";\r\nimport Create from \"./components/Create\";\r\nimport Manage from \"./components/Manage\";\r\n// import ManageTour from \"./components/ManageTour\";\r\n\r\n\r\n// ta bort!\r\nimport Test from \"./components/Edit\";\r\nimport Verify from \"./components/Verify\";\r\n\r\n\r\nclass App extends Component {\r\n\trender() {\r\n\t\tlet url = window.location.href.replace(\"http://\", \"\").replace(\".vlq.se\", \"\").split(\"/\");\r\n\t\tconsole.log(url);\r\n\t\tif(url[0] === \"inside\" || url[0] === \"localhost:3000\") {\r\n\t\t\tsettings.api = \"http://192.168.1.3:3002/\";\r\n\t\t}\r\n\t\tconsole.log(settings.api);\r\n\t\treturn(\r\n\t\t\t<BrowserRouter>\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route exact path={settings.url + \"/\"} component={Admin}/>\r\n\t\t\t\t\t<Route exact path={settings.url + \"t/\"} component={Tournament}/>\r\n\t\t\t\t\t<Route exact path={settings.url + \"t/:id\"} component={Tournament}/>\r\n\t\t\t\t\t<Route exact path={settings.url + \"create\"} component={Admin}/>\r\n\t\t\t\t\t<Route exact path={settings.url + \"manage\"} component={Admin}/>\r\n\t\t\t\t\t<Route exact path={settings.url + \"manage/:id\"} component={Admin}/>\r\n\t\t\t\t\t<Route exact path={settings.url + \"login\"} component={Login}/>\r\n\t\t\t\t\t<Route exact path={settings.url + \"login/:hash\"} component={Login}/>\r\n\t\t\t\t\t<Route exact path={settings.url + \"logout\"} component={Logout}/>\r\n\t\t\t\t\t<Route exact path={settings.url + \"verify/:string\"} component={Verify}/>\r\n\t\t\t\t\t<Route component={Error} />\r\n\t\t\t\t</Switch>\r\n\t\t\t</BrowserRouter>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n//https://stackoverflow.com/questions/44188969/how-to-pass-the-match-when-using-render-in-route-component-from-react-router-v4\r\nclass Admin extends Component {\r\n\tconstructor(){\r\n\t\tsuper();\r\n\r\n\t\tthis.state = {\r\n\t\t\tusername: '',\r\n\t\t\terror: false,\r\n\t\t\tloading: true,\r\n\t\t\taccountSelected: false\r\n\t\t};\r\n\r\n\t\tthis.accountSelect = this.accountSelect.bind(this);\r\n\t\tthis.update = this.update.bind(this);\r\n\t\tthis.imageload = this.imageload.bind(this);\r\n\t\tthis.handleScroll = this.handleScroll.bind(this);\r\n\t\tthis.update();\r\n\t}\r\n\r\n\taccountSelect(e) {\r\n\t\te.preventDefault();\r\n\t\tif(this.state.accountSelected) {\r\n\t\t\tthis.setState({accountSelected: false});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.setState({accountSelected: true});\r\n\t}\r\n\r\n\tupdate(){\r\n\t\tfetch(settings.api + \"user/\", {\r\n\t\t\tmethod: \"GET\",\r\n\t\t\tcredentials: \"include\"\r\n\t\t})\r\n\t\t.then(response => {\r\n\t\t\tif(response.status == '401'){throw 0;};\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.then(response => {\r\n\t\t\tthis.setState({username: response.username, loading: false});\r\n\t\t})\r\n\t\t.catch(err => {\r\n\t\t\tthis.setState({error: true});\r\n\t\t});\r\n\t}\r\n\r\n\timageload(e) {\r\n\t\te.target.style.display = \"block\";\r\n\t\te.target.parentNode.childNodes[0].style.display = \"none\";\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n    window.addEventListener('scroll', this.handleScrollToElement);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t    window.removeEventListener('scroll', this.handleScrollToElement);\r\n\t}\r\n\r\n\thandleScroll(event) {\r\n\t   console.log(\"hej\");\r\n\t}\r\n\r\n\trender(){\r\n\t\tif(this.state.error){\r\n\t\t\treturn <Redirect to={settings.url + \"login/\"} />;\r\n\t\t}\r\n\r\n\t\tif(this.state.loading){\r\n\t\t\treturn <div id=\"root-loading\"><div className=\"root-spinner\"></div></div>;\r\n\t\t}\r\n\r\n\t\t// <nav>\r\n\t\t// \t<Link activeClassName=\"selected\" to={settings.url + \"manage/\"}>Hantera serier</Link>\r\n\t\t// \t<Link activeClassName=\"selected\" to={settings.url + \"create/\"}>Skapa serie</Link>\r\n\t\t// </nav\r\n\t\t//<Link to={settings.url + \"manage/\"}><img src={logo} alt=\"logo my logo\"></img></Link>\r\n\r\n\t\treturn(\r\n\t\t\t<div>\r\n\t\t\t\t<header>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Link to={settings.url + \"manage/\"}>\r\n\t\t\t\t\t\t\t<div className=\"logo\">\r\n\t\t\t\t\t\t\t\t<img className=\"lowreslogo\" src={lowResLogo} alt=\"low res logo\"></img>\r\n\t\t\t\t\t\t\t\t<img className=\"highreslogo\" src={logo} alt=\"logo\" onLoad={this.imageload}></img>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<div className={this.state.accountSelected ? \"accountSelected user\" : \"user\"} onClick={this.accountSelect}>\r\n\t\t\t\t\t\t\t<div className=\"accountIcon\"><span/><span/><span/><span/></div>\r\n\t\t\t\t\t\t\t<p>{this.state.username}</p>\r\n\t\t\t\t\t\t\t<div className=\"pil\"><span/></div>\r\n\t\t\t\t\t\t\t<div id=\"hamburger\">\r\n\t\t\t\t\t\t\t\t<div style={{display: this.state.accountSelected ? \"flex\" : \"none\"}}>\r\n\t\t\t\t\t\t\t\t\t<Link to={settings.url + \"logout/\"}>Logga ut &#187;</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</header>\r\n\r\n\t\t\t\t<main className=\"wrapper\" onScroll={this.handleScroll}>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route exact path={settings.url + \"/\"} render={() => {return <Redirect to={settings.url + \"manage/\"} />;}}/>\r\n\t\t\t\t\t\t<Route exact path={settings.url + \"create\"} component={Create} />\r\n\t\t\t\t\t\t<Route exact path={settings.url + \"manage\"} component={Manage} />\r\n\t\t\t\t\t\t{/*<Route exact path={settings.url + \"manage\"} component={Manage} />*/}\r\n\t\t\t\t\t\t<Route exact path={settings.url + \"manage/:id\"} render={({match}) => <Test username={this.state.username} match={match}></Test>} />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</main>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nexport default App;\r\n//<Route exact path={settings.url + \"verify/:string\"} render={({match}) => <Verify username={this.state.username} match={match}></Verify>} />\r\n"]},"metadata":{},"sourceType":"module"}