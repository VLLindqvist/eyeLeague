{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\victo\\\\Desktop\\\\VLQ.se\\\\src\\\\components\\\\Create.js\";\nimport React, { Component } from 'react';\nimport '../css/create.scss';\nimport settings from '../settings.json';\nimport { Redirect } from 'react-router-dom';\n\nvar Create =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Create, _Component);\n\n  function Create(props) {\n    var _this;\n\n    _classCallCheck(this, Create);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Create).call(this, props));\n    _this.state = {\n      serieName: \"\",\n      tName: \"\",\n      teams: [],\n      tNumbs: 2,\n      tInfo: '',\n      status: false,\n      id: \"\",\n      loading: false,\n      isEmpty: false,\n      asterisk: true,\n      asterisk2: true,\n      counter: 0,\n      nameStyle: {},\n      teamsStyle: {},\n      nameErrormsg: \"\",\n      teamsErrormsg: \"\",\n      nameError: false,\n      teamsError: false\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleTeamSubmit = _this.handleTeamSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleTnumber = _this.handleTnumber.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.createNew = _this.createNew.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.serieName = _this.serieName.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.remove = _this.remove.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.emptyField = _this.emptyField.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.wordCount = _this.wordCount.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.focusOnField = _this.focusOnField.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.focus = _this.focus.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    document.title = \"Skapa ny serie\"; //Flik titel\n\n    return _this;\n  }\n\n  _createClass(Create, [{\n    key: \"focus\",\n    value: function focus(e) {\n      e.currentTarget.parentNode.childNodes[2].className = 'placeToLabel';\n\n      if (e.currentTarget.parentNode.className === \"fält name\") {\n        this.setState({\n          namePlacehStyle: {\n            color: \"#d1af47\"\n          },\n          name_style: {\n            borderColor: \"#d1af47\"\n          }\n        });\n      } else {\n        this.setState({\n          teamsPlacehStyle: {\n            color: \"#d1af47\"\n          },\n          teams_style: {\n            borderColor: \"#d1af47\"\n          }\n        });\n      }\n    }\n  }, {\n    key: \"serieName\",\n    value: function serieName(e) {\n      this.setState({\n        serieName: e.target.value,\n        asterisk: true,\n        nameError: false,\n        nameStyle: {}\n      });\n\n      if (e.target.value.length == 40) {\n        this.setState({\n          nameError: true,\n          nameErrormsg: \"Serienamet får innehålla max 40 tecken\",\n          nameStyle: {\n            borderColor: \"red\"\n          }\n        });\n      }\n\n      if (e.target.value.length >= 1) {\n        this.setState({\n          asterisk: false\n        });\n      }\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      this.setState({\n        tName: e,\n        teamsError: false,\n        teamsStyle: {}\n      }); // this.setState({tName: event.target.value, teamsError: false, teamsStyle: {}});\n\n      if (e.length == 25) {\n        this.setState({\n          teamsError: true,\n          teamsErrormsg: \"Lagnamn får innehålla max 25 tecken\",\n          teamsStyle: {\n            borderColor: \"red\"\n          }\n        });\n      }\n    }\n  }, {\n    key: \"handleTnumber\",\n    value: function handleTnumber(event) {\n      if (event.target.value.match(/^[0-9\\b]+$/) || event.target.value === \"\") {\n        if (event.target.value > this.state.teams.length) {\n          this.setState({\n            tNumbs: this.state.teams.length,\n            isEmpty: false\n          });\n        } else {\n          this.setState({\n            tNumbs: event.target.value,\n            isEmpty: true\n          });\n        }\n      }\n    }\n  }, {\n    key: \"handleTeamSubmit\",\n    value: function handleTeamSubmit(event) {\n      if (!this.state.tName.trim() == \"\") {\n        var teams2 = this.state.teams.concat([this.state.tName]);\n        this.setState({\n          teams: teams2\n        });\n        this.setState({\n          tName: '',\n          maxChar2: false\n        });\n      }\n\n      if (this.state.teams.length >= 1) {\n        this.setState({\n          asterisk2: false\n        });\n      }\n\n      event.preventDefault();\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(name, i) {\n      var dummyteams = this.state.teams;\n      var removed = dummyteams.splice(i, 1);\n\n      if (dummyteams.length < 2) {\n        this.setState({\n          teams: dummyteams,\n          asterisk2: true\n        });\n      } else {\n        this.setState({\n          teams: dummyteams\n        });\n      }\n    }\n  }, {\n    key: \"emptyField\",\n    value: function emptyField(event) {\n      if (event.target.value === \"\" || event.target.value < 2 || event.target.value > this.state.teams.length) {\n        this.setState({\n          tNumbs: 2,\n          isEmpty: false\n        });\n      }\n    } //Word count\n\n  }, {\n    key: \"wordCount\",\n    value: function wordCount(event) {\n      this.setState({\n        counter: event.target.value.length,\n        tInfo: event.target.value\n      });\n    }\n  }, {\n    key: \"createNew\",\n    value: function createNew(e) {\n      var _this2 = this;\n\n      e.preventDefault(); //turnerningnamn,   lag minst 2 lag,   antal lag/grupp,\n\n      if (this.state.teams.length < 2 || this.state.tNumbs < 2 && this.state.tNumbs > 20 || this.state.serieName.trim() == \"\") {\n        if (this.state.teams.length < 2) {\n          this.setState({\n            teamsError: true,\n            teamsErrormsg: \"Lägg till minst två lag\",\n            teamsStyle: {\n              borderColor: \"red\"\n            }\n          });\n        }\n\n        if (this.state.serieName.trim() == \"\") {\n          this.setState({\n            nameError: true,\n            nameErrormsg: \"Skriv in ett namn på din turnering\",\n            nameStyle: {\n              borderColor: \"red\"\n            }\n          });\n        }\n\n        return;\n      }\n\n      this.setState({\n        loading: true\n      });\n      var allteams = \"\";\n\n      for (var i = 0; i < this.state.teams.length; ++i) {\n        allteams += \"&team=\" + this.state.teams[i];\n      }\n\n      fetch(settings.api + \"serie/\", {\n        method: \"POST\",\n        credentials: \"include\",\n        body: \"name=\".concat(this.state.serieName).concat(allteams, \"&text=\").concat(this.state.tInfo)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        if (response.status == true) {\n          _this2.setState({\n            status: true,\n            id: response.id\n          });\n        } else {\n          _this2.setState({\n            loading: false\n          });\n\n          alert(\"Oops, något gick fel, vänligen försök igen!\");\n        }\n      });\n    }\n  }, {\n    key: \"focusOnField\",\n    value: function focusOnField(e) {\n      e.target.parentNode.childNodes[0].focus();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (this.state.status == true) {\n        return React.createElement(Redirect, {\n          to: settings.url + \"manage/\" + this.state.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        });\n      } //Fixar loading animationen\n\n\n      var mySubmit = \"Skapa ny turnering\";\n\n      if (this.state.loading) {\n        mySubmit = React.createElement(\"div\", {\n          className: \"loading\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        });\n      }\n\n      var lagholder = \"\";\n\n      if (this.state.teams.length == 0) {\n        lagholder = \"Inga lag tillagda\";\n      } else {\n        lagholder = \"Antal lag: \" + this.state.teams.length;\n      } //Asterisk obligatoriska fält\n\n\n      var asterisk = \"\";\n\n      if (this.state.asterisk) {\n        asterisk = React.createElement(\"label\", {\n          id: \"asterisk\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }, \" *\");\n      }\n\n      var asterisk2 = \"\";\n\n      if (this.state.asterisk2) {\n        asterisk2 = React.createElement(\"label\", {\n          id: \"asterisk\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }, \" *\");\n      }\n\n      var nameerror = React.createElement(\"div\", {\n        className: \"error-hide\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      });\n\n      if (this.state.nameError) {\n        nameerror = React.createElement(\"div\", {\n          className: \"error-show\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188\n          },\n          __self: this\n        }, this.state.nameErrormsg);\n      }\n\n      var teamserror = React.createElement(\"div\", {\n        className: \"error-hide\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      });\n\n      if (this.state.teamsError) {\n        teamserror = React.createElement(\"div\", {\n          className: \"error-show\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }, this.state.teamsErrormsg);\n      } //Detta borde va en egen component kanske - det vill jag inte//OSCAR\n\n\n      var t = this.state.teams.map(function (name, i) {\n        return React.createElement(\"div\", {\n          className: \"teamwrap\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"newteam\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198\n          },\n          __self: this\n        }, name), React.createElement(\"div\", {\n          className: \"removeteam\",\n          onClick: function onClick(e) {\n            e.stopPropagation();\n            e.preventDefault();\n\n            _this3.remove(name, i);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199\n          },\n          __self: this\n        }, \"\\xD7\"));\n      });\n      return React.createElement(\"div\", {\n        id: \"createwrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"yttre\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, \"Skapa serie\"), React.createElement(\"div\", {\n        id: \"inre\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, \"Serienamn\", asterisk), React.createElement(\"input\", {\n        style: this.state.nameStyle,\n        type: \"text\",\n        className: \"f\\xE4lt name\",\n        onChange: this.serieName,\n        maxlength: \"40\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }), nameerror), React.createElement(\"div\", {\n        className: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, \" L\\xE4gg till lag\", asterisk2), \"// \", React.createElement(\"div\", {\n        id: \"nyttLag\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, \"//  \", React.createElement(\"input\", {\n        style: this.state.teamsStyle,\n        type: \"text\",\n        className: \"f\\xE4lt teams\",\n        value: this.state.tName,\n        onInput: this.handleChange,\n        onBlur: this.blurChange,\n        maxlength: \"25\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }), \"//  \", React.createElement(\"input\", {\n        id: \"plus\",\n        type: \"submit\",\n        value: \"L\\xE4gg till\",\n        onClick: this.focusOnField,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }), \"// \"), React.createElement(CreatableSelect, {\n        style: this.state.teamsStyle,\n        components: {\n          dropdownIndicator: null\n        },\n        inputValue: this.state.tName,\n        isClearable: true,\n        isMulti: true,\n        menuIsOpen: false,\n        onChange: this.handleChange,\n        onInputChange: this.handleInputChange,\n        onKeyDown: this.handleKeyDown,\n        placeholder: \"Type something and press enter...\",\n        value: this.state.teams,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }), teamserror)), React.createElement(\"div\", {\n        className: \"lagholder\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, lagholder), React.createElement(\"div\", {\n        id: \"teams\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, t), React.createElement(\"div\", {\n        className: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"submit\",\n        onClick: this.createNew,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }, mySubmit), React.createElement(\"div\", {\n        id: \"ast\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, \"*\"), \" = obligatoriska f\\xE4lt\")))));\n    }\n  }]);\n\n  return Create;\n}(Component);\n\nexport default Create;","map":{"version":3,"sources":["C:\\Users\\victo\\Desktop\\VLQ.se\\src\\components\\Create.js"],"names":["React","Component","settings","Redirect","Create","props","state","serieName","tName","teams","tNumbs","tInfo","status","id","loading","isEmpty","asterisk","asterisk2","counter","nameStyle","teamsStyle","nameErrormsg","teamsErrormsg","nameError","teamsError","handleChange","bind","handleTeamSubmit","handleTnumber","createNew","remove","emptyField","wordCount","focusOnField","focus","document","title","e","currentTarget","parentNode","childNodes","className","setState","namePlacehStyle","color","name_style","borderColor","teamsPlacehStyle","teams_style","target","value","length","event","match","trim","teams2","concat","maxChar2","preventDefault","name","i","dummyteams","removed","splice","allteams","fetch","api","method","credentials","body","then","response","json","alert","url","mySubmit","lagholder","nameerror","teamserror","t","map","stopPropagation","handleSubmit","blurChange","dropdownIndicator","handleInputChange","handleKeyDown"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport '../css/create.scss';\r\nimport settings from '../settings.json';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nclass Create extends Component {\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tserieName: \"\",\r\n\t\t\ttName: \"\",\r\n\t\t\tteams: [],\r\n\t\t\ttNumbs: 2,\r\n\t\t\ttInfo: '',\r\n\t\t\tstatus: false,\r\n\t\t\tid: \"\",\r\n\t\t\tloading: false,\r\n\t\t\tisEmpty: false,\r\n\t\t\tasterisk: true,\r\n\t\t\tasterisk2: true,\r\n\t\t\tcounter: 0,\r\n\t\t\tnameStyle: {},\r\n\t\t\tteamsStyle: {},\r\n\t\t\tnameErrormsg: \"\",\r\n\t\t\tteamsErrormsg: \"\",\r\n\t\t\tnameError: false,\r\n\t\t\tteamsError: false,\r\n\t\t};\r\n\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t  this.handleTeamSubmit = this.handleTeamSubmit.bind(this);\r\n\t\tthis.handleTnumber = this.handleTnumber.bind(this);\r\n\t\tthis.createNew = this.createNew.bind(this);\r\n\t\tthis.serieName = this.serieName.bind(this);\r\n\t\tthis.remove = this.remove.bind(this);\r\n\t\tthis.emptyField = this.emptyField.bind(this);\r\n\t\tthis.wordCount = this.wordCount.bind(this);\r\n\t\tthis.focusOnField = this.focusOnField.bind(this);\r\n\t\tthis.focus = this.focus.bind(this);\r\n\r\n\t\tdocument.title = \"Skapa ny serie\"; //Flik titel\r\n\t}\r\n\r\n\tfocus(e) {\r\n\t\te.currentTarget.parentNode.childNodes[2].className = 'placeToLabel';\r\n\t\tif(e.currentTarget.parentNode.className === \"fält name\") {\r\n\t\t\tthis.setState({namePlacehStyle: {color: \"#d1af47\"}, name_style: {borderColor: \"#d1af47\"}});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.setState({teamsPlacehStyle: {color: \"#d1af47\"}, teams_style: {borderColor: \"#d1af47\"}});\r\n\t\t}\r\n\t}\r\n\r\n\tserieName(e) {\r\n\t\tthis.setState({serieName: e.target.value, asterisk: true, nameError: false, nameStyle: {}});\r\n\t\tif(e.target.value.length == 40){\r\n\t\t\tthis.setState({nameError: true, nameErrormsg: \"Serienamet får innehålla max 40 tecken\", nameStyle: {borderColor: \"red\"}});\r\n\t\t}\r\n\t\tif(e.target.value.length >= 1){\r\n\t\t\tthis.setState({asterisk:false});\r\n\t\t}\r\n\r\n\t}\r\n\r\n\thandleChange(e) {\r\n\t\tthis.setState({tName: e, teamsError: false, teamsStyle: {}});\r\n\t\t// this.setState({tName: event.target.value, teamsError: false, teamsStyle: {}});\r\n\t\tif(e.length == 25){\r\n\t\t\tthis.setState({teamsError: true, teamsErrormsg: \"Lagnamn får innehålla max 25 tecken\", teamsStyle: {borderColor: \"red\"}});\r\n\t\t}\r\n\t}\r\n\r\n\thandleTnumber(event){\r\n\t\tif(event.target.value.match(/^[0-9\\b]+$/) || event.target.value === \"\") {\r\n\t\t\t\tif(event.target.value > this.state.teams.length) {\r\n\t\t\t\t\tthis.setState({tNumbs: this.state.teams.length, isEmpty: false});\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\tthis.setState({tNumbs: event.target.value, isEmpty : true});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thandleTeamSubmit(event) {\r\n\t\tif (!this.state.tName.trim() == \"\"){\r\n\t  \tconst teams2 = this.state.teams.concat([this.state.tName]);\r\n\r\n\t\t\tthis.setState({teams: teams2});\r\n\t\t\tthis.setState({tName:'', maxChar2: false});\r\n\t\t}\r\n\t\tif(this.state.teams.length >= 1){\r\n\t\t\tthis.setState({asterisk2: false});\r\n\t\t}\r\n\r\n\t\tevent.preventDefault();\r\n\t}\r\n\r\n\tremove(name, i){\r\n\t\tconst dummyteams = this.state.teams;\r\n\t\tlet removed = dummyteams.splice(i,1);\r\n\r\n\t\t\t\tif(dummyteams.length < 2){\r\n\t\t\t\t\tthis.setState({teams: dummyteams, asterisk2: true});\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tthis.setState({teams: dummyteams});\r\n\t\t\t\t}\r\n\t}\r\n\r\n\temptyField(event){\r\n\t\tif(event.target.value === \"\" || event.target.value < 2 || event.target.value > this.state.teams.length){\r\n\t\t\tthis.setState({tNumbs: 2, isEmpty: false});\r\n\t\t}\r\n\t}\r\n\t//Word count\r\n\twordCount(event){\r\n\t\tthis.setState({counter: event.target.value.length, tInfo: event.target.value});\r\n\r\n\t}\r\n\r\n\tcreateNew(e){\r\n\t\te.preventDefault();\r\n\t\t//turnerningnamn,   lag minst 2 lag,   antal lag/grupp,\r\n\t\tif(this.state.teams.length < 2 || (this.state.tNumbs < 2 && this.state.tNumbs > 20 || this.state.serieName.trim() == \"\" )){\r\n\t\t\t\tif(this.state.teams.length <2){this.setState({teamsError: true, teamsErrormsg: \"Lägg till minst två lag\", teamsStyle: {borderColor: \"red\"}});}\r\n\t\t\t\tif(this.state.serieName.trim() == \"\"){this.setState({nameError: true, nameErrormsg: \"Skriv in ett namn på din turnering\", nameStyle: {borderColor: \"red\"}});}\r\n\t\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.setState({loading:true});\r\n\r\n\t\tlet allteams = \"\";\r\n\r\n\t\tfor(let i = 0; i < this.state.teams.length; ++i) {\r\n\t\t\tallteams += \"&team=\" + this.state.teams[i];\r\n\t\t}\r\n\r\n\t\tfetch(settings.api + \"serie/\", {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tcredentials: \"include\",\r\n\t\t\tbody: `name=${this.state.serieName}${allteams}&text=${this.state.tInfo}`\r\n\t\t})\r\n\t\t.then(response => response.json())\r\n\t\t.then(response => {\r\n\t\t\tif(response.status == true){\r\n\t\t\t\tthis.setState({status: true, id: response.id});\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.setState({loading:false})\r\n\t\t\t\talert(\"Oops, något gick fel, vänligen försök igen!\");\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfocusOnField(e) {\r\n\t\te.target.parentNode.childNodes[0].focus();\r\n\t}\r\n\r\n\trender() {\r\n\t\tif(this.state.status == true) {\r\n\t\t\treturn <Redirect to={settings.url + \"manage/\" + this.state.id}/>;\r\n\t\t}\r\n\t\t//Fixar loading animationen\r\n\t\tlet mySubmit = \"Skapa ny turnering\";\r\n\t\tif(this.state.loading){\r\n\t\t\tmySubmit = <div className=\"loading\"></div>\r\n\t\t}\r\n\r\n\t\tlet lagholder = \"\";\r\n\t\tif(this.state.teams.length == 0) {\r\n\t\t\tlagholder = \"Inga lag tillagda\";\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlagholder = \"Antal lag: \" + this.state.teams.length;\r\n\t\t}\r\n\t\t//Asterisk obligatoriska fält\r\n\t\tlet asterisk = \"\";\r\n\t\tif(this.state.asterisk){\r\n\t\t\tasterisk = <label id=\"asterisk\"> *</label>;\r\n\t\t}\r\n\t\tlet asterisk2 =\"\";\r\n\t\tif(this.state.asterisk2){\r\n\t\t\t\tasterisk2 = <label id=\"asterisk\"> *</label>;\r\n\t\t}\r\n\r\n\t\tlet nameerror = <div className=\"error-hide\"></div>;\r\n\t\tif(this.state.nameError){\r\n\t\t\tnameerror = <div className=\"error-show\">{this.state.nameErrormsg}</div>;\r\n\t\t}\r\n\t\tlet teamserror = <div className=\"error-hide\"></div>;\r\n\t\tif(this.state.teamsError){\r\n\t\t\tteamserror = <div className=\"error-show\">{this.state.teamsErrormsg}</div>;\r\n\t\t}\r\n\r\n\t\t//Detta borde va en egen component kanske - det vill jag inte//OSCAR\r\n\t\tconst t = this.state.teams.map((name, i) => {\r\n\t\t\treturn (<div className=\"teamwrap\">\r\n\t\t\t<div className=\"newteam\">{name}</div>\r\n\t\t\t<div className=\"removeteam\" onClick={(e) => {\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis.remove(name, i);\r\n\t\t\t\t}}>&times;</div>\r\n\t\t</div>)\r\n\t\t});\r\n\r\n    \treturn (\r\n\t\t\t\t<div id=\"createwrap\">\r\n\t\t\t\t\t<form className=\"yttre\">\r\n\t\t\t\t\t\t<h2>Skapa serie</h2>\r\n\t\t\t\t\t\t<div id=\"inre\">\r\n\t\t\t\t\t\t\t<div className=\"form\">\r\n\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\tSerienamn{asterisk}\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input style={this.state.nameStyle} type=\"text\" className=\"fält name\" onChange={this.serieName} maxlength=\"40\"/>\r\n\t\t\t\t\t\t\t\t{nameerror}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"form\">\r\n\t\t\t\t\t\t\t\t<form onSubmit={this.handleSubmit} >\r\n\t\t\t\t\t\t\t\t\t<label> Lägg till lag{asterisk2}</label>\r\n\t\t\t\t\t\t\t\t\t// <div id=\"nyttLag\">\r\n\t\t\t\t\t\t\t\t\t// \t<input style={this.state.teamsStyle} type=\"text\" className=\"fält teams\" value={this.state.tName} onInput={this.handleChange} onBlur={this.blurChange} maxlength=\"25\"/>\r\n\t\t\t\t\t\t\t\t\t// \t<input id=\"plus\" type=\"submit\" value=\"Lägg till\" onClick={this.focusOnField}/>\r\n\t\t\t\t\t\t\t\t\t// </div>\r\n\t\t\t\t\t\t\t\t\t<CreatableSelect\r\n\t\t\t\t\t\t\t\t\t\tstyle={this.state.teamsStyle}\r\n\t\t\t\t\t\t        components={{dropdownIndicator: null}}\r\n\t\t\t\t\t\t        inputValue={this.state.tName}\r\n\t\t\t\t\t\t        isClearable\r\n\t\t\t\t\t\t        isMulti\r\n\t\t\t\t\t\t        menuIsOpen={false}\r\n\t\t\t\t\t\t        onChange={this.handleChange}\r\n\t\t\t\t\t\t        onInputChange={this.handleInputChange}\r\n\t\t\t\t\t\t        onKeyDown={this.handleKeyDown}\r\n\t\t\t\t\t\t        placeholder=\"Type something and press enter...\"\r\n\t\t\t\t\t\t        value={this.state.teams}\r\n\t\t\t\t\t\t      />\r\n\t\t\t\t\t\t\t\t\t{teamserror}\r\n\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"lagholder\">{lagholder}</div>\r\n\t\t\t\t\t\t\t<div id=\"teams\">{t}</div>\r\n\t\t\t\t\t\t\t<div className=\"form\">\r\n\t\t\t\t\t\t\t\t<div className=\"submit\" onClick ={this.createNew}>\r\n\t\t\t\t\t\t\t\t\t{mySubmit}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div id=\"ast\"><span>*</span> = obligatoriska fält</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t}\r\n}\r\n\r\nexport default Create;\r\n"]},"metadata":{},"sourceType":"module"}